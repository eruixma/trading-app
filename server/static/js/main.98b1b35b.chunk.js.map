{"version":3,"sources":["components/Layout.js","components/Page.js","reducers/app.js","reducers/quotes.js","reducers/search.js","container/PageContext.js","Menu.js","components/SuggestionCard.js","components/SearchField.js","pages/SearchPage/SearchMain.js","components/SearchBar.js","components/SearchResultList.js","pages/SearchPage/SearchResult.js","pages/SearchPage/index.js","components/StockTitle.js","components/LineChart.js","components/CandleStickChart.js","components/StockOverview.js","pages/QuotesPage/StockInfo.js","pages/QuotesPage/index.js","App.js","reducers/index.js","index.js","reduxUtils.js"],"names":["Logo","props","react_default","a","createElement","className","Layout","withContext","theme","PropTypes","oneOf","product","any","user","onProfileClick","func","showMenu","bool","showSettings","currApp","onToggleMenu","children","_ref","React","Children","only","Theme","getContext","_ref2","Header","string","_ref3","onClick","SettingsPanel","_ref4","classnames","hidden","AppWrapper","_ref5","slide-right","slide-left","AppBar","_ref6","closed","open-menu","AppMenu","_ref8","AppContent","_ref9","AppBody","_ref7","Input","Search","Page","state","getSettings","type","checked","_this","onChange","e","changeTheme","target","data-enabled","data-disabled","_this2","this","components_Layout","setState","old","pageName","Page_Theme","Page_Header","Page_SettingsPanel","Page_AppWrapper","Page_AppBar","appbar","Page_AppBody","Page_AppMenu","menu","Page_AppContent","Component","PageContext","store","object","isRequired","actions","rest","Object","objectWithoutProperties","Page_Page","assign","app","createActions","CHANGE_THEME","reducer","handleActions","defineProperty","combineActions","payload","objectSpread","updateWorldIndices","createAction","updateRealtimeSector","updatePrice","updateSummary","updateTimeSeries","updateDailyTimeSeries","fetchWorldIndices","dispatch","axios","get","then","indices","fetchRealtimeSector","sectors","_","mapValues","data","v","parseFloat","fetchPrice","symbol","concat","price","fetchSummary","summary","fetchIntradayTimeSeries","timeSeries","intradayTimeSeries","fetchDailyTimeSeries","dailyTimeSeries","_handleActions","worldIndices","realtimeSector","prices","summaries","Information Technology","Consumer Discretionary","Financials","Consumer Staples","Health Care","Utilities","Materials","Communication Services","Energy","Industrials","Real Estate","updateSuggestions","updateSearchResults","clearSuggestions","fetchSuggestions","value","encodeurl","suggestions","search","results","forEach","result","quotesActions","search_handleActions","searchResults","connect","bindActionCreators","appActions","searchActions","Menu","react_router_dom","to","PureComponent","SuggestionCard","company","SearchField","lastUpdateTime","Date","now","updateTimeout","getOnSuggestionsFetchRequested","reason","clearTimeout","setTimeout","dist_default","styles","onSuggestionsFetchRequested","onSuggestionsClearRequested","getSuggestionValue","suggestion","renderSuggestion","components_SuggestionCard","inputProps","placeholder","autoFocus","container","position","marginBottom","height","width","input","marginRight","fontSize","paddingLeft","cursor","paddingLop","suggestionsList","listStyle","marginLeft","padding","Radium","SearchTile","event","newValue","_this$props","match","history","style","tile","wrapper","label","components_SearchField","buttonWrapper","button","push","path","SearchTileContext","withRouter","SearchMain","container_PageContext","components_Page","src_Menu","goto","margin","justifyContent","SearchBar","location","values","queryString","parse","q","url","SearchResultList","arrowIconClassName","icon-arrow-down","change","charAt","icon-arrow-up","colorClassName","color-red","color-green","_this$props2","map","fontWeight","display","flexDirection","description","replace","SearchResultList_SearchResultList","quotes","SearchResult","react_router","components_SearchBar","components_SearchResultList","SearchPage","exact","component","StockTitle","params","react","LineChart","_xScaleProvider","discontinuousTimeScaleProvider","inputDateAccessor","d","time","xScaleProvider","sortBy","ts","timeParse","xScale","xAccessor","displayXAccessor","xExtents","last","react_stockcharts_es","ratio","pointsPerPxThreshold","left","right","top","bottom","seriesName","id","yExtents","close","XAxis_default","axisAt","orient","stroke","tickStroke","YAxis_default","ticks","coordinates","at","displayFormat","timeFormat","format","series","yAccessor","strokeWidth","hoverStrokeWidth","highlightOnHover","fitWidth","CandleStickChart","_React$createElement","initialData","date","ema5","ema","options","windowSize","merge","c","accessor","ema20","calculatedData","console","log","Math","max","length","high","low","textFill","axes","open","wickStroke","fill","LineSeries_default","tooltip","forChart","origin","labelFill","GroupTooltip_default","layout","verticalSize","yLabel","valueFill","withShape","volume","w","h","tickFormat","defaultProps","StockOverview","_this$props2$store$qu","dailySeries","marginTop","components_LineChart","components_CandleStickChart","StockInfo","components_StockTitle","components_StockOverview","QuotesPage","App","render","combineReducers","createStore","rootReducer","compose","applyMiddleware","thunk","persist","arguments","undefined","persistConfig","paths","config","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","persistState","initEnhancer","ReactDOM","react_redux_es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.98b1b35b.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withContext, getContext } from 'recompose'\r\nimport classnames from 'classnames'\r\n\r\nfunction Logo(props) {\r\n  return <i className=\"icon icon-graph-line color-green\"/>\r\n}\r\n\r\nconst Layout = withContext({\r\n    theme: PropTypes.oneOf(['light', 'dark']),\r\n    product: PropTypes.any,\r\n    user: PropTypes.any,\r\n    onProfileClick: PropTypes.func,\r\n    showMenu: PropTypes.bool,\r\n    showSettings: PropTypes.bool,\r\n    currApp: PropTypes.any,\r\n    onToggleMenu: PropTypes.func,\r\n    children: PropTypes.any\r\n  },\r\n  props => props\r\n)(({children}) => React.Children.only(children))\r\n\r\n\r\nconst Theme = getContext({\r\n  theme: PropTypes.oneOf(['light', 'dark'])\r\n})(\r\n  ({theme, children}) => <div className={theme}>{children}</div>\r\n)\r\n\r\nconst Header = getContext({\r\n  product: PropTypes.string,\r\n  user: PropTypes.string,\r\n  onProfileClick: PropTypes.func\r\n})(\r\n  ({product, user, onProfileClick}) => <header className=\"sysbar\">\r\n    <div className=\"items-container\">\r\n      <div className=\"item\">\r\n        <Logo/>\r\n        <span className=\"product\">{product}</span>\r\n      </div>\r\n    </div>\r\n    <div className=\"items-container\">\r\n      <div className=\"item hover\" onClick={onProfileClick}>\r\n        <i className=\"icon icon-profile\"/>\r\n        <span className=\"username\">{user}</span>\r\n      </div>\r\n    </div>\r\n  </header>\r\n)\r\n\r\n\r\nconst SettingsPanel = getContext({\r\n  showSettings: PropTypes.bool\r\n})(\r\n  ({showSettings, children}) => <aside className={classnames(\"settings\", {hidden: !showSettings})}>\r\n    {children}\r\n  </aside>\r\n)\r\n\r\nconst AppWrapper = getContext({\r\n  showSettings: PropTypes.bool\r\n})(\r\n  ({showSettings, children}) => <div className={classnames(\"app\", {\r\n    \"slide-right\": !showSettings,\r\n    \"slide-left\": showSettings\r\n  })}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst AppBar = getContext({\r\n  showMenu: PropTypes.bool,\r\n  currApp: PropTypes.any,\r\n  onToggleMenu: PropTypes.func\r\n})(\r\n  ({showMenu, currApp, onToggleMenu, children}) => <nav className=\"appbar\">\r\n    <div className=\"actions-left\">\r\n      <div className=\"item\"  onClick={onToggleMenu} >\r\n        <i className={classnames(\"navigation-toggle\", {closed: showMenu})}/>\r\n      </div>\r\n      <div className={classnames(\"menu-anchor\", {\"open-menu\": showMenu})}>Menu</div>\r\n      <div className={classnames(\"title\", {\"open-menu\": showMenu})}>{currApp}</div>\r\n    </div>\r\n    <div className=\"actions-right\">{children}</div>\r\n  </nav>\r\n)\r\n\r\nconst AppBody = ({children}) => <div className=\"appbody\">{children}</div>\r\n\r\nconst AppMenu = getContext({\r\n  showMenu: PropTypes.bool\r\n})(\r\n  ({showMenu, children}) => <div className={classnames(\"appnav\", {hidden: !showMenu})}>{children}</div>\r\n)\r\n\r\nconst AppContent = ({children}) => <div className=\"appcontent\">{children}</div>\r\n\r\nLayout.AppBar = AppBar\r\nLayout.AppWrapper = AppWrapper\r\nLayout.SettingsPanel = SettingsPanel\r\nLayout.Header = Header\r\nLayout.Theme = Theme\r\nLayout.AppContent = AppContent\r\nLayout.AppMenu = AppMenu\r\nLayout.AppBody = AppBody\r\n\r\nexport default  Layout\r\n","import React, { PureComponent, Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Layout from './Layout'\r\nimport { Input } from 'antd'\r\nimport { getContext, withContext } from 'recompose'\r\n\r\nconst {Search} = Input\r\n\r\nconst {\r\n  AppBar,\r\n  AppWrapper,\r\n  SettingsPanel,\r\n  Header,\r\n  Theme,\r\n  AppContent,\r\n  AppMenu,\r\n  AppBody\r\n} = Layout\r\n\r\nclass Page extends Component {\r\n  state = {\r\n    showMenu: true,\r\n    showSettings: false\r\n  }\r\n\r\n  getSettings = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"column sm-12 container\">\r\n          <div className=\"profile\">\r\n            <i className=\"icon icon-profile\"/>\r\n            <div className=\"username\">Ruixin Ma</div>\r\n          </div>\r\n          <div className=\"content\">\r\n            <div className=\"title\">My settings</div>\r\n            <div className=\"item\">\r\n              <div className=\"left\"> Switch theme</div>\r\n              <div className=\"right\">\r\n                <label className=\"switch\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={this.props.theme === 'light'}\r\n                    onChange={e => {\r\n                      this.props.changeTheme(e.target.checked ? 'light' : 'dark')\r\n                    }}/>\r\n                  <i className=\"ball\"/>\r\n                  <span data-enabled=\"Light\" data-disabled=\"Dark\"/>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bottom\">\r\n            <button className=\"btn big\" type=\"button\">\r\n              <i className=\"icon icon-log-out\"/> Sign out\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.props.className}>\r\n        <Layout\r\n          theme={this.props.theme}\r\n          product={'Stock Trading'}\r\n          user={this.props.user}\r\n          onProfileClick={() => this.setState((old) => ({showSettings: !old.showSettings}))}\r\n          showMenu={this.state.showMenu}\r\n          showSettings={this.state.showSettings}\r\n          currApp={this.props.pageName}\r\n          onToggleMenu={() => this.setState((old) => ({showMenu: !old.showMenu}))}\r\n        >\r\n          <Theme>\r\n            <Header/>\r\n            <main>\r\n              <SettingsPanel>\r\n                {this.getSettings()}\r\n              </SettingsPanel>\r\n              <AppWrapper>\r\n                <AppBar>\r\n                  {this.props.appbar}\r\n                </AppBar>\r\n                <AppBody>\r\n                  <AppMenu>\r\n                    {this.props.menu}\r\n                  </AppMenu>\r\n                  <AppContent>\r\n                    {this.props.children}\r\n                  </AppContent>\r\n                </AppBody>\r\n              </AppWrapper>\r\n            </main>\r\n          </Theme>\r\n        </Layout>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nPage.propTypes = {\r\n  pageName: PropTypes.any,\r\n  user: PropTypes.string,\r\n  appbar: PropTypes.any,\r\n  menu: PropTypes.any,\r\n  changeTheme: PropTypes.func,\r\n  children: PropTypes.any\r\n}\r\n\r\nexport const PageContext = withContext({\r\n    store: PropTypes.object.isRequired,\r\n    actions: PropTypes.object.isRequired,\r\n    children: PropTypes.any\r\n  },\r\n  props => {\r\n    return props\r\n  }\r\n)(({children}) => React.Children.only(children))\r\n\r\n\r\nexport default getContext({\r\n  store: PropTypes.object.isRequired,\r\n  actions: PropTypes.object.isRequired\r\n})(\r\n  ({store, actions, children, ...rest}) => (\r\n    <Page\r\n      theme={store.app.theme}\r\n      changeTheme={actions.changeTheme}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Page>)\r\n)\r\n","import { createActions, handleActions, combineActions } from 'redux-actions';\r\n\r\nconst defaultState = { theme: 'dark' };\r\n\r\nexport const actions = createActions({\r\n  CHANGE_THEME: (theme) => ({ theme }),\r\n});\r\n\r\n\r\nconst {changeTheme} = actions\r\n\r\nconst reducer = handleActions(\r\n  {\r\n    [combineActions(changeTheme)]: (\r\n      state,\r\n      { payload: { theme } }\r\n    ) => {\r\n      return { ...state, theme };\r\n    }\r\n  },\r\n  defaultState\r\n);\r\n\r\nexport default reducer;\r\n","import { createAction, handleActions } from 'redux-actions'\r\nimport axios from 'axios'\r\nimport _ from \"lodash\"\r\n\r\n\r\nconst defaultState = {\r\n  worldIndices: [],\r\n  realtimeSector: {\r\n    \"Information Technology\": 0,\r\n    \"Consumer Discretionary\": 0,\r\n    \"Financials\": 0,\r\n    \"Consumer Staples\": 0,\r\n    \"Health Care\": 0,\r\n    \"Utilities\": 0,\r\n    \"Materials\": 0,\r\n    \"Communication Services\": 0,\r\n    \"Energy\": 0,\r\n    \"Industrials\": 0,\r\n    \"Real Estate\": 0\r\n  },\r\n  prices:{},\r\n  summaries:{},\r\n  intradayTimeSeries:{},\r\n  dailyTimeSeries:{},\r\n}\r\n\r\nconst fetchWorldIndices = () => dispatch => {\r\n  axios\r\n    .get(`/api/v1/quotes/indices`)\r\n    .then((indices) => {\r\n      dispatch(updateWorldIndices(indices))\r\n    })\r\n}\r\n\r\nconst fetchRealtimeSector = ()=>dispatch =>{\r\n  axios\r\n    .get('/api/v1/quotes/sector')\r\n    .then(sectors=>{\r\n      dispatch(updateRealtimeSector(_.mapValues(sectors.data, v=>parseFloat(v))))\r\n    })\r\n}\r\n\r\nconst fetchPrice = (symbol)=>dispatch=>{\r\n  axios.get(`/api/v1/quotes/price/${symbol}`)\r\n    .then(price=>{\r\n      dispatch(updatePrice({symbol, price: price.data}))\r\n    })\r\n}\r\n\r\nconst fetchSummary = (symbol)=>dispatch=>{\r\n  axios.get(`/api/v1/search/stocks?q=symbol:${symbol}`)\r\n    .then(summary=>{\r\n      dispatch(updateSummary({symbol, summary: summary.data[0]}))\r\n    })\r\n}\r\n\r\nconst fetchIntradayTimeSeries = (symbol)=>dispatch=>{\r\n  axios.get(`/api/v1/quotes/timeseries/${symbol}?function=TIME_SERIES_INTRADAY&interval=1`)\r\n    .then(timeSeries=>{\r\n      dispatch(updateTimeSeries({symbol, intradayTimeSeries: timeSeries.data}))\r\n    })\r\n}\r\n\r\nconst fetchDailyTimeSeries = (symbol)=>dispatch=>{\r\n  axios.get(`/api/v1/quotes/timeseries/${symbol}?function=TIME_SERIES_DAILY`)\r\n    .then(timeSeries=>{\r\n      dispatch(updateDailyTimeSeries({symbol, dailyTimeSeries: timeSeries.data}))\r\n    })\r\n}\r\n\r\n\r\nconst updateWorldIndices = createAction('UPDATE_WORLD_INDICES')\r\nconst updateRealtimeSector = createAction('UPDATE_REALTIME_SECTOR')\r\nconst updatePrice = createAction('UPDATE_STOCK')\r\nconst updateSummary = createAction('UPDATE_SUMMARY')\r\nconst updateTimeSeries = createAction('UPDATE_TIME_SERIES')\r\nconst updateDailyTimeSeries = createAction('UPDATE_DAILY_TIME_SERIES')\r\n\r\nexport const actions = {\r\n  fetchWorldIndices,\r\n  fetchRealtimeSector,\r\n  fetchPrice,\r\n  fetchSummary,\r\n  fetchIntradayTimeSeries,\r\n  fetchDailyTimeSeries,\r\n  updateWorldIndices,\r\n  updateRealtimeSector,\r\n  updatePrice,\r\n  updateSummary,\r\n  updateTimeSeries,\r\n  updateDailyTimeSeries,\r\n}\r\n\r\n\r\nconst reducer = handleActions(\r\n  {\r\n    [updateWorldIndices]: (state, {payload}) => {\r\n      return {...state, worldIndices:payload.data}\r\n    },\r\n    [updateRealtimeSector]: (state, {payload}) => {\r\n      return {...state, realtimeSector:payload}\r\n    },\r\n    [updatePrice]: (state, {payload})=>{\r\n      return {...state, prices: {...state.prices, [payload.symbol]: payload.price}}\r\n    },\r\n    [updateSummary]: (state, {payload})=>{\r\n      return {...state, summaries: {...state.summaries, [payload.symbol]: payload.summary}}\r\n    },\r\n    [updateTimeSeries]: (state, {payload})=>{\r\n      return {...state, intradayTimeSeries: {...state.intradayTimeSeries, [payload.symbol]: payload.intradayTimeSeries}}\r\n    },\r\n    [updateDailyTimeSeries]: (state, {payload})=>{\r\n      return {...state, dailyTimeSeries: {...state.dailyTimeSeries, [payload.symbol]: payload.dailyTimeSeries}}\r\n    },\r\n  },\r\n  defaultState\r\n)\r\n\r\nexport default reducer\r\n","import { createAction, handleActions } from 'redux-actions'\r\nimport axios from 'axios'\r\nimport encodeurl from \"encodeurl\"\r\n\r\nimport { actions as quotesActions } from './quotes'\r\n\r\n\r\nconst defaultState = {\r\n  suggestions: [],\r\n  searchResults: []\r\n\r\n}\r\n\r\nconst fetchSuggestions = (value) => dispatch => {\r\n  axios\r\n    .get(encodeurl(`/api/v1/search/suggestions?q=${value}&limit=5`))\r\n    .then((suggestions) => {\r\n      dispatch(updateSuggestions(suggestions))\r\n    })\r\n}\r\n\r\nconst search = (value) => dispatch => {\r\n  axios\r\n    .get(encodeurl(`/api/v1/search/stocks?q=${value}`))\r\n    .then((results) => {\r\n      dispatch(updateSearchResults(results))\r\n      results.data.forEach(result => {\r\n        dispatch(quotesActions.fetchPrice(result.symbol))\r\n      })\r\n    })\r\n}\r\n\r\nconst updateSuggestions = createAction('UPDATE_SUGGESTIONS')\r\n\r\nconst updateSearchResults = createAction('UPDATE_SEARCH_RESULTS')\r\n\r\nconst clearSuggestions = createAction('CLEAR_SUGGESTIONS')\r\n\r\nexport const actions = {\r\n  fetchSuggestions,\r\n  search,\r\n  updateSuggestions,\r\n  updateSearchResults,\r\n  clearSuggestions\r\n}\r\n\r\nconst reducer = handleActions(\r\n  {\r\n    [updateSuggestions]: (state, {payload}) => {\r\n      return {...state, suggestions: payload.data}\r\n    },\r\n\r\n    [updateSearchResults]: (state, {payload}) => {\r\n      return {...state, searchResults: payload.data}\r\n    },\r\n\r\n    // [clearSuggestions]: (state) => {\r\n    //   return {...state, suggestions: []}\r\n    // }\r\n  },\r\n  defaultState\r\n)\r\n\r\nexport default reducer\r\n","import React from \"react\"\r\nimport { bindActionCreators } from 'redux'\r\nimport connect from 'react-redux/es/connect/connect'\r\nimport {actions as appActions} from '../reducers/app'\r\nimport {actions as quotesActions} from '../reducers/quotes'\r\nimport {actions as searchActions} from '../reducers/search'\r\nimport { PageContext } from '../components/Page'\r\n\r\nfunction mapStateToProps(state) {\r\n  return {store: {...state}}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({\r\n      ...appActions,\r\n      ...quotesActions,\r\n      ...searchActions,\r\n    }, dispatch)\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(PageContext)\r\n","import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nclass Menu extends PureComponent {\r\n  render() {\r\n    return (\r\n      <div className=\"tree navigation\">\r\n        <ul>\r\n          <li>\r\n            <NavLink className=\"item\" to=\"/search\">Search<i className=\"icon icon-search right-align\"/></NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink className=\"item\" to=\"/quotes\">Quotes</NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink className=\"item\" to=\"/portfolio\">Portfolio</NavLink>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nMenu.propTypes = {}\r\n\r\nexport default Menu\r\n","import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass SuggestionCard extends PureComponent {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"header\">\r\n          <div className=\"left\">\r\n            <div className=\"title\">{this.props.company}</div>\r\n            <div className=\"subtitle\">{this.props.symbol}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nSuggestionCard.propTypes = {\r\n  symbol: PropTypes.string,\r\n  company: PropTypes.string,\r\n\r\n}\r\n\r\nexport default SuggestionCard\r\n","import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Radium from 'radium'\r\nimport Autosuggest from 'react-autosuggest'\r\nimport SuggestionCard from './SuggestionCard'\r\n\r\nclass SearchField extends PureComponent {\r\n  lastUpdateTime =  Date.now()\r\n  updateTimeout = null\r\n\r\n  getOnSuggestionsFetchRequested = ({value, reason}) => {\r\n    if ((reason === 'input-changed')) {\r\n      if(this.updateTimeout)\r\n        clearTimeout(this.updateTimeout)\r\n\r\n      this.updateTimeout = setTimeout(()=>{\r\n        this.props.fetchSuggestions(value)\r\n        this.lastUpdateTime = Date.now()\r\n        this.updateTimeout = null\r\n      }, 500)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Autosuggest\r\n          theme={styles.theme}\r\n          suggestions={this.props.suggestions}\r\n          onSuggestionsFetchRequested={this.getOnSuggestionsFetchRequested}\r\n          onSuggestionsClearRequested={() => this.props.clearSuggestions()}\r\n          getSuggestionValue={suggestion => suggestion.company}\r\n          renderSuggestion={suggestion => <SuggestionCard {...suggestion}/>}\r\n          inputProps={{\r\n            placeholder: '',\r\n            value: this.props.value,\r\n            onChange: this.props.onChange,\r\n            autoFocus: true\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nSearchField.propTypes = {\r\n  suggestions: PropTypes.array,\r\n  clearSuggestions: PropTypes.func,\r\n  fetchSuggestions: PropTypes.func\r\n}\r\n\r\nconst styles = {\r\n  theme: {\r\n    container: {\r\n      position: 'relative',\r\n      marginBottom: '28px',\r\n      height: '60px',\r\n      width: '900px',\r\n    },\r\n    input: {\r\n      marginRight: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      fontSize: '24px',\r\n      paddingLeft: ' 8px',\r\n      cursor: 'text',\r\n      paddingLop: '21px',\r\n    },\r\n    suggestionsList: {\r\n      listStyle: 'none',\r\n      marginLeft: '-47px'\r\n    },\r\n    suggestion: {\r\n      padding: 0\r\n    }\r\n  }\r\n}\r\nexport default Radium(SearchField)\r\n","import React, { Component, PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Page from '../../components/Page'\r\nimport PageContext from '../../container/PageContext'\r\nimport Menu from '../../Menu'\r\nimport SearchField from '../../components/SearchField'\r\nimport Radium from \"radium\"\r\nimport encodeurl from \"encodeurl\"\r\nimport { getContext } from 'recompose'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n\r\nclass SearchTile extends Component {\r\n  state = {\r\n    value: ''\r\n  }\r\n  onChange = (event, {newValue}) => {\r\n    this.setState({\r\n      value: newValue\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {store, actions, match, history} = this.props\r\n    let {value} = this.state\r\n\r\n    return <div className=\"tile\" style={styles.tile}>\r\n      <div className=\"wrapper\" style={styles.wrapper}>\r\n        <div className=\"row\">\r\n          <label style={styles.label}>Input symbol, company, description, or anything you like</label>\r\n        </div>\r\n        <div className=\"row\">\r\n          <SearchField\r\n            suggestions={store.search.suggestions}\r\n            fetchSuggestions={actions.fetchSuggestions}\r\n            clearSuggestions={actions.clearSuggestions}\r\n            value={value}\r\n            onChange={this.onChange}\r\n          />\r\n        </div>\r\n        <div className=\"row\">\r\n          <div style={styles.buttonWrapper}>\r\n            <button\r\n              className=\"btn primary\"\r\n              style={styles.button}\r\n              onClick={() => {\r\n                history.push(encodeurl(`${match.path}result?q=${value}`))\r\n                actions.search(value)\r\n              }}\r\n            >\r\n              Search\r\n            </button>\r\n            <button className=\"btn\" style={styles.button}>I'm Feeling Lucky</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\n\r\nconst SearchTileContext = getContext({\r\n  store: PropTypes.object.isRequired,\r\n  actions: PropTypes.object.isRequired\r\n})(withRouter(SearchTile))\r\n\r\nclass SearchMain extends Component {\r\n  render() {\r\n    return (\r\n      <PageContext>\r\n        <Page\r\n          pageName={<span className={'title-name'}>Search stocks</span>}\r\n          user={'Ruixin'}\r\n          menu={<Menu/>}\r\n        >\r\n          <SearchTileContext\r\n            goto={this.props.history.push}\r\n          />\r\n        </Page>\r\n      </PageContext>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  button: {\r\n    fontSize: '24px',\r\n  },\r\n  buttonWrapper: {\r\n    margin: '0 auto',\r\n  },\r\n  label: {\r\n    fontSize: '32px',\r\n    margin: '0 auto',\r\n    marginBottom: '28px',\r\n  },\r\n  tile: {\r\n    height: '100%',\r\n    width: '100%',\r\n    justifyContent: 'center',\r\n  },\r\n  wrapper: {\r\n    margin: '0 auto 0 auto',\r\n    marginBottom: '10%'\r\n  },\r\n}\r\n\r\nexport default Radium(SearchMain)\r\n","import React, { Component } from 'react'\r\nimport encodeurl from 'encodeurl'\r\nimport { getContext } from 'recompose'\r\nimport PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\nimport queryString from 'query-string'\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    value: ''\r\n  }\r\n\r\n  onChange = (value) => this.setState({value})\r\n\r\n  componentDidMount(){\r\n    const {location} = this.props\r\n    const values = queryString.parse(location.search)\r\n    this.setState({value:values.q})\r\n  }\r\n\r\n  render() {\r\n    let {value} = this.state\r\n    const {history, match, actions} = this.props\r\n\r\n    return (\r\n      <div>\r\n        <input\r\n          type=\"text\"\r\n          value={value}\r\n          onChange={(e) => this.onChange(e.target.value)}\r\n          style={{width: '400px'}}\r\n        />\r\n        <button\r\n          onClick={() => {\r\n            history.push(encodeurl(`${match.url}?q=${value}`))\r\n            actions.search(value)\r\n          }}\r\n          className=\"btn primary\"\r\n        >\r\n          Search\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default getContext({actions: PropTypes.object})(withRouter(SearchBar))\r\n","import React, { Component } from 'react'\r\nimport * as classnames from 'classnames'\r\nimport * as PropTypes from 'prop-types'\r\nimport { getContext } from 'recompose'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport queryString from 'query-string'\r\n\r\nclass SearchResultList extends Component {\r\n\r\n  arrowIconClassName = (price) => classnames(\"icon\", {\r\n    \"icon-arrow-down\": price.change.charAt(0) === '-',\r\n    \"icon-arrow-up\": price.change.charAt(0) === '+'\r\n  })\r\n\r\n  colorClassName = (price) => classnames(\"item text-md\", {\r\n    \"color-red\": price.change.charAt(0) === '-',\r\n    \"color-green\": price.change.charAt(0) === '+',\r\n  })\r\n\r\n  componentDidMount() {\r\n    const {location, search} = this.props\r\n    const values = queryString.parse(location.search)\r\n    if (values.q) {\r\n      search(values.q)\r\n\r\n    }\r\n    // TODO search result page should always have \"q\" param\r\n  }\r\n\r\n  render() {\r\n    const {results, prices} = this.props\r\n\r\n    return results.map(result => (\r\n      <div className=\"row\">\r\n        <div className=\"tile sm-12\" style={{height: '240px'}}>\r\n          <div className=\"content\">\r\n            <div className=\"row\">\r\n              <div className=\"column sm-3\">\r\n                {prices[result.symbol] ?\r\n                  <div style={{padding: 16}}>\r\n                    <div className=\"kpi\">\r\n                      <div className=\"item text-xl\">\r\n                        <span>{prices[result.symbol].price}</span>\r\n                      </div>\r\n                      <div className={this.colorClassName(prices[result.symbol])}>\r\n                        <span>\r\n                          <i className={this.arrowIconClassName(prices[result.symbol])}/>\r\n                        </span>\r\n                        <span>{prices[result.symbol].change}</span>\r\n                        <span>&nbsp;</span>\r\n                      </div>\r\n                    </div>\r\n                    <table className={'table tiny dashed'}>\r\n                      <tbody>\r\n                      <tr>\r\n                        <td style={{fontWeight: 500}}>Market Cap</td>\r\n                        <td>{result['MarketCap']}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td style={{fontWeight: 500}}>Enterprise Value</td>\r\n                        <td>{result['EnterpriseValue']}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td style={{fontWeight: 500}}>P/E (TTM)</td>\r\n                        <td>{result['PE']}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td style={{fontWeight: 500}}>P/B</td>\r\n                        <td>{result['PB']}</td>\r\n                      </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div> : (\r\n                    <div style={{display: 'flex', justifyContent: 'center', height: '100%', flexDirection: 'column'}}>\r\n                      <div className=\"loading\" style={{margin: '0 auto'}}/>\r\n                    </div>\r\n                  )\r\n                }\r\n              </div>\r\n              <div className=\"column sm-9\">\r\n                <h3 style={{margin: 0, marginBottom: 8}}>\r\n                  <Link to={`/quotes/stock/${result.symbol}`}>\r\n                    {`${result.company}  (${result.symbol})`}\r\n                  </Link>\r\n                </h3>\r\n                <p>{result.description.replace('\\\\n\\\\n', '').replace('\\\\', '')}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ))\r\n  }\r\n}\r\n\r\nexport default getContext({\r\n  store: PropTypes.object.isRequired,\r\n  actions: PropTypes.object.isRequired,\r\n})(withRouter(({store, actions, location}) => <SearchResultList\r\n  results={store.search.searchResults}\r\n  prices={store.quotes.prices}\r\n  search={actions.search}\r\n  location={location}\r\n/>))\r\n","import React, { Component } from 'react'\r\nimport queryString from 'query-string'\r\n\r\nimport { Redirect } from 'react-router-dom'\r\nimport Page from '../../components/Page'\r\nimport Menu from '../../Menu'\r\nimport PageContext from '../../container/PageContext'\r\nimport SearchBar from '../../components/SearchBar'\r\nimport SearchResultList from '../../components/SearchResultList'\r\n\r\n\r\nclass SearchResult extends Component {\r\n\r\n\r\n  componentDidMount() {\r\n    const {location, actions} = this.props\r\n    const values = queryString.parse(location.search)\r\n    if (values.q) {\r\n      this.setState({value: values.q})\r\n\r\n    }\r\n    // TODO search result page should always have \"q\" param\r\n  }\r\n\r\n  render() {\r\n    return this.props.location.search === '' ? (\r\n      <Redirect to={'/'}/>\r\n    ) : (\r\n      <PageContext>\r\n        <Page\r\n          pageName={<SearchBar/>}\r\n          user={'Ruixin'}\r\n          menu={<Menu/>}\r\n        >\r\n          <SearchResultList/>\r\n        </Page>\r\n      </PageContext>\r\n    )\r\n  }\r\n}\r\n\r\nSearchResult.propTypes = {}\r\n\r\nexport default SearchResult\r\n","import React, { Component } from 'react'\r\nimport { Route, Switch } from \"react-router-dom\"\r\nimport SearchMain from './SearchMain'\r\nimport SearchResult from './SearchResult'\r\n\r\n\r\nclass SearchPage extends Component {\r\n\r\n  render() {\r\n    const {match} = this.props\r\n    return (\r\n        <Switch>\r\n          <Route exact path={`${match.path}/`} component={SearchMain}/>\r\n          <Route path={`${match.path}/result`} component={SearchResult}/>\r\n        </Switch>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default SearchPage\r\n","import React, { Component, Fragment } from 'react'\r\nimport { getContext } from 'recompose'\r\nimport PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass StockTitle extends Component {\r\n  render() {\r\n    const {match, store: {quotes: {summaries}}} = this.props\r\n    const symbol = match.params.symbol\r\n    return (\r\n      <Fragment>\r\n        <span className=\"title-name\">\r\n          {summaries[symbol]&& summaries[symbol].company}\r\n        </span>\r\n        <span className=\"subtitle\">{symbol}</span>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default getContext({store: PropTypes.object})(withRouter(StockTitle))\r\n","import React, { Component } from 'react'\r\nimport { discontinuousTimeScaleProvider } from 'react-stockcharts/lib/scale'\r\nimport { timeFormat, timeParse } from 'd3-time-format'\r\nimport { last } from 'react-stockcharts/lib/utils'\r\nimport { Chart, ChartCanvas } from 'react-stockcharts'\r\nimport XAxis from 'react-stockcharts/lib/axes/XAxis'\r\nimport YAxis from 'react-stockcharts/lib/axes/YAxis'\r\nimport { CrossHairCursor, MouseCoordinateX, MouseCoordinateY } from 'react-stockcharts/lib/coordinates'\r\nimport { LineSeries } from 'react-stockcharts/lib/series'\r\nimport { fitWidth } from 'react-stockcharts/lib/helper'\r\nimport { format } from \"d3-format\"\r\nimport _ from 'lodash'\r\n\r\n\r\nclass LineChart extends Component {\r\n  render() {\r\n    const timeSeries = this.props.data\r\n    const xScaleProvider = discontinuousTimeScaleProvider.inputDateAccessor(d => d.time);\r\n    const {\r\n      data,\r\n      xScale,\r\n      xAccessor,\r\n      displayXAccessor,\r\n    } = xScaleProvider(_.sortBy(timeSeries.map(ts=>({...ts, time: timeParse(\"%Y-%m-%d %H:%M:%S\")(ts.time)})), ['time']));\r\n    const xExtents = [\r\n      xAccessor(last(data)),\r\n      xAccessor(data[0])\r\n    ];\r\n    return (\r\n      <ChartCanvas ratio={this.props.ratio}\r\n                   width={this.props.width}\r\n                   height={200}\r\n                   pointsPerPxThreshold={1}\r\n                   margin={{ left: 70, right: 70, top: 0, bottom: 30 }}\r\n                   seriesName={this.props.symbol}\r\n                   data={data}\r\n                   xAccessor={xAccessor}\r\n                   displayXAccessor={displayXAccessor}\r\n                   xScale={xScale}\r\n                   xExtents={xExtents}>\r\n        <Chart id={1} yExtents={d => [d.close]}>\r\n          <XAxis axisAt=\"bottom\" orient=\"bottom\" stroke={'#f2f2f2'} tickStroke={'#f2f2f2'}/>\r\n          <YAxis axisAt=\"left\" orient=\"left\" ticks={7} stroke={'#f2f2f2'} tickStroke={'#f2f2f2'}/>\r\n          <MouseCoordinateX\r\n            at=\"bottom\"\r\n            orient=\"bottom\"\r\n            displayFormat={timeFormat(\"%Y-%m-%d %H:%M:%S\")} />\r\n          <MouseCoordinateY\r\n            at=\"right\"\r\n            orient=\"right\"\r\n            displayFormat={format(\",.2f\")} />\r\n\r\n          <LineSeries\r\n            yAccessor={d => d.close}\r\n            strokeWidth={2}\r\n            hoverStrokeWidth={4}\r\n            highlightOnHover\r\n\r\n            stroke=\"#288964\"/>\r\n        </Chart>\r\n\r\n        <CrossHairCursor stroke={'#f2f2f2'}/>\r\n      </ChartCanvas>\r\n    )\r\n  }\r\n}\r\n\r\nLineChart = fitWidth(LineChart)\r\n\r\nexport default LineChart\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { format } from \"d3-format\"\r\nimport { timeFormat, timeParse } from \"d3-time-format\"\r\n\r\nimport { ChartCanvas, Chart } from \"react-stockcharts\"\r\nimport { BarSeries, CandlestickSeries } from \"react-stockcharts/lib/series\"\r\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\"\r\nimport {\r\n  CrossHairCursor,\r\n  MouseCoordinateX,\r\n  MouseCoordinateY\r\n} from \"react-stockcharts/lib/coordinates\"\r\n\r\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\"\r\nimport { OHLCTooltip } from \"react-stockcharts/lib/tooltip\"\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\"\r\nimport { last } from \"react-stockcharts/lib/utils\"\r\nimport _ from 'lodash'\r\nimport { ema, stochasticOscillator, bollingerBand } from \"react-stockcharts/lib/indicator\";\r\nimport LineSeries from 'react-stockcharts/lib/series/LineSeries'\r\nimport GroupTooltip from 'react-stockcharts/lib/tooltip/GroupTooltip'\r\n\r\nclass CandleStickChart extends Component {\r\n  render() {\r\n    const {type, data: initialData, width, ratio} = this.props\r\n\r\n    const xScaleProvider = discontinuousTimeScaleProvider.inputDateAccessor(d => d.date)\r\n\r\n    const ema5 = ema()\r\n      .id(0)\r\n      .options({ windowSize: 5 })\r\n      .merge((d, c) => {d.ema5 = c;})\r\n      .stroke('#0082f0')\r\n      .accessor(d => d.ema5);\r\n\r\n    const ema20 = ema()\r\n      .id(0)\r\n      .options({ windowSize: 20 })\r\n      .merge((d, c) => {d.ema20 = c;})\r\n      .stroke('#dcaf00')\r\n      .accessor(d => d.ema20);\r\n\r\n\r\n    let calculatedData = ema20(ema5(initialData.map(ts => ({\r\n      ...ts,\r\n      date: timeParse(\"%Y-%m-%d\")(ts.time)\r\n    }))))\r\n\r\n    const {data, xScale, xAccessor, displayXAccessor} = xScaleProvider(_.sortBy(calculatedData, ['date']))\r\n    console.log(data)\r\n\r\n    const start = xAccessor(last(data))\r\n    const end = xAccessor(data[Math.max(0, data.length - 180)])\r\n    const xExtents = [start, end]\r\n\r\n\r\n\r\n    return (\r\n      <ChartCanvas\r\n        type={'svg'}\r\n        height={420}\r\n        ratio={ratio}\r\n        width={width}\r\n        margin={{left: 70, right: 70, top: 10, bottom: 30}}\r\n        type={type}\r\n        seriesName={this.props.symbol}\r\n        data={data}\r\n        xScale={xScale}\r\n        xAccessor={xAccessor}\r\n        displayXAccessor={displayXAccessor}\r\n        xExtents={xExtents}\r\n      >\r\n        <Chart id={100} yExtents={[d => [d.high, d.low]]} textFill={'#f2f2f2'}>\r\n          <XAxis axisAt=\"bottom\" orient=\"bottom\" tickStroke={'#f2f2f2'} stroke={'#f2f2f2'} ticks={20}/>\r\n          <YAxis axisAt=\"left\" orient=\"left\" ticks={10} stroke={'none'} tickStroke={'#f2f2f2'}/>\r\n          <MouseCoordinateY\r\n            at=\"right\"\r\n            orient=\"right\"\r\n            displayFormat={format(\".2f\")}\r\n          />\r\n          <CandlestickSeries\r\n            stroke={d => d.close > d.open ? \"#288964\" : \"#dc2d37\"}\r\n            wickStroke={d => d.close > d.open ? \"#288964\" : \"#dc2d37\"}\r\n            fill={d => d.close > d.open ? \"#288964\" : \"#dc2d37\"}\r\n          />\r\n          <LineSeries yAccessor={ema5.accessor()} stroke={ema5.stroke()} strokeWidth={2}/>\r\n          <LineSeries yAccessor={ema20.accessor()} stroke={ema20.stroke()} strokeWidth={2}/>\r\n          <OHLCTooltip forChart={1} origin={[0, 0]} textFill={'#f2f2f2'} labelFill={'#0082f0'}/>\r\n          <GroupTooltip\r\n            layout=\"vertical\"\r\n            origin={[0, 30]}\r\n            verticalSize={20}\r\n            onClick={e => console.log(e)}\r\n            options={[\r\n              {\r\n                yAccessor: ema5.accessor(),\r\n                yLabel: `${ema5.type()}(${ema5.options().windowSize})`,\r\n                valueFill: ema5.stroke(),\r\n                withShape: true,\r\n              },\r\n              {\r\n                yAccessor: ema20.accessor(),\r\n                yLabel: `${ema20.type()}(${ema20.options().windowSize})`,\r\n                valueFill: ema20.stroke(),\r\n                withShape: true,\r\n              }\r\n            ]}\r\n          />\r\n        </Chart>\r\n        <Chart id={200} height={150} yExtents={d => d.volume} origin={(w, h) => [0, h - 150]}>\r\n          <YAxis axisAt=\"right\" orient=\"right\" ticks={5} tickFormat={format(\".2s\")} stroke={'none'} tickStroke={'#f2f2f2'}/>\r\n\r\n          <MouseCoordinateX\r\n            at=\"bottom\"\r\n            orient=\"bottom\"\r\n            displayFormat={timeFormat(\"%Y-%m-%d\")}\r\n          />\r\n          <MouseCoordinateY\r\n            at=\"left\"\r\n            orient=\"left\"\r\n            displayFormat={format(\".4s\")}\r\n          />\r\n\r\n          <BarSeries yAccessor={d => d.volume} fill={d => (d.close > d.open ? \"rgba(40, 137, 100, 0.5)\" : \"rgba(220, 45, 55, 0.5)\")}\r\n          />\r\n        </Chart>\r\n        <CrossHairCursor stroke={'#f2f2f2'}/>\r\n      </ChartCanvas>\r\n    )\r\n  }\r\n}\r\n\r\nCandleStickChart.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.shape({\r\n    date: PropTypes.string,\r\n    open: PropTypes.number,\r\n    high: PropTypes.number,\r\n    low: PropTypes.number,\r\n    close: PropTypes.number,\r\n    volume: PropTypes.number\r\n  })).isRequired,\r\n  width: PropTypes.number.isRequired,\r\n  ratio: PropTypes.number.isRequired,\r\n  type: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired\r\n}\r\n\r\nCandleStickChart.defaultProps = {\r\n  type: \"svg\"\r\n}\r\n\r\nCandleStickChart = fitWidth(\r\n  CandleStickChart\r\n)\r\n\r\nexport default CandleStickChart\r\n","import React, { Component, Fragment } from 'react'\r\nimport { getContext } from 'recompose'\r\nimport PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\nimport * as classnames from 'classnames'\r\nimport { timeParse } from \"d3-time-format\"\r\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\"\r\nimport { last } from \"react-stockcharts/lib/utils\"\r\nimport LineChart from './LineChart'\r\nimport { format } from 'd3-format'\r\nimport CandleStickChart from './CandleStickChart'\r\n\r\nclass StockOverview extends Component {\r\n  arrowIconClassName = (price) => classnames(\"icon\", {\r\n    \"icon-arrow-down\": price.change.charAt(0) === '-',\r\n    \"icon-arrow-up\": price.change.charAt(0) === '+'\r\n  })\r\n  colorClassName = (price) => classnames(\"item text-md\", {\r\n    \"color-red\": price.change.charAt(0) === '-',\r\n    \"color-green\": price.change.charAt(0) === '+',\r\n  })\r\n\r\n  componentDidMount() {\r\n    const {match, actions} = this.props\r\n    actions.fetchDailyTimeSeries(match.params.symbol)\r\n    actions.fetchSummary(match.params.symbol)\r\n    actions.fetchPrice(match.params.symbol)\r\n    actions.fetchIntradayTimeSeries(match.params.symbol)\r\n  }\r\n\r\n  render() {\r\n    const {store: {quotes: {prices, summaries, intradayTimeSeries, dailyTimeSeries}}, match: {params: {symbol}}} = this.props\r\n\r\n    const price = prices[symbol]\r\n    const summary = summaries[symbol]\r\n    const timeSeries = intradayTimeSeries[symbol]\r\n    const dailySeries = dailyTimeSeries[symbol]\r\n    return (\r\n      <Fragment>\r\n        <div className={'row'} style={{height: '280px'}}>\r\n          <div className=\"tile sm-3\">\r\n            <div className=\"content\">\r\n              {price&&summary ? (\r\n                <div style={{margin:'0 auto'}}>\r\n                  <div className=\"kpi\">\r\n                    <div className=\"item text-xl\">\r\n                      <span>{price.price}</span>\r\n                    </div>\r\n                    <div className={this.colorClassName(price)}>\r\n                        <span>\r\n                          <i className={this.arrowIconClassName(price)}/>\r\n                        </span>\r\n                      <span>{price.change}</span>\r\n                      <span>&nbsp;</span>\r\n                    </div>\r\n                  </div>\r\n                  <table className={'table tiny dashed'} style={{marginTop: '10px'}}>\r\n                    <thead>\r\n                    <tr><th/><th/></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>Market Cap</td>\r\n                      <td>{format(\",.4s\")(summary['MarketCap']).replace(/G/,\"B\")}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>Enterprise Value</td>\r\n                      <td>{format(\",.4s\")(summary['EnterpriseValue']).replace(/G/,\"B\")}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>P/E (TTM)</td>\r\n                      <td>{format(\",.2f\")(summary['PE'])}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>P/B</td>\r\n                      <td>{format(\",.2f\")(summary['PB'])}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>Headquarters</td>\r\n                      <td>{summary['location']}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>Industry</td>\r\n                      <td>{summary['industry']}</td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n\r\n                </div>) :\r\n                <div style={{display: 'flex', justifyContent: 'center', height: '100%', flexDirection: 'column'}}>\r\n                  <div className=\"loading\" style={{margin: '0 auto'}}/>\r\n                </div>\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className=\"tile sm-9\">\r\n            <div className=\"header\">\r\n              <div className=\"left\">\r\n                <div className=\"title\">Intraday</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"content\">\r\n              {timeSeries ? <LineChart data={timeSeries} symbol={symbol}/> :\r\n                <div style={{display: 'flex', justifyContent: 'center', height: '100%', flexDirection: 'column'}}>\r\n                  <div className=\"loading\" style={{margin: '0 auto'}}/>\r\n                </div>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\" style={{height: 500}}>\r\n          <div className=\"tile sm-12\">\r\n            <div className=\"header\">\r\n              <div className=\"left\">\r\n                <div className=\"title\">Daily (10 years)</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"content\">\r\n              {dailySeries ? <CandleStickChart data={dailySeries} symbol={symbol}/> :\r\n                <div style={{display: 'flex', justifyContent: 'center', height: '100%', flexDirection: 'column'}}>\r\n                  <div className=\"loading\" style={{margin: '0 auto'}}/>\r\n                </div>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default getContext({\r\n  store: PropTypes.object,\r\n  actions: PropTypes.object,\r\n})(withRouter(StockOverview))\r\n","import React, { Component } from 'react'\r\nimport PageContext from '../../container/PageContext'\r\nimport Page from '../../components/Page'\r\nimport Menu from '../../Menu'\r\nimport SearchResultList from '../../components/SearchResultList'\r\nimport StockTitle from '../../components/StockTitle'\r\nimport StockOverview from '../../components/StockOverview'\r\n\r\nclass StockInfo extends Component {\r\n  render() {\r\n    return (\r\n      <PageContext>\r\n        <Page\r\n          pageName={<StockTitle/>}\r\n          user={'Ruixin'}\r\n          menu={<Menu/>}\r\n        >\r\n          <StockOverview/>\r\n        </Page>\r\n      </PageContext>\r\n    )\r\n  }\r\n}\r\n\r\nexport default StockInfo\r\n","import React, { Component } from 'react'\r\nimport { Route, Switch } from \"react-router-dom\"\r\nimport StockInfo from './StockInfo'\r\n\r\nclass QuotesPage extends Component {\r\n  render() {\r\n    const {match} = this.props\r\n    return (\r\n      <Switch>\r\n        {/*<Route exact path={`${match.path}/`} component={Quotes}/>*/}\r\n        <Route path={`${match.path}/stock/:symbol`} component={StockInfo}/>\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n\r\nexport default QuotesPage\r\n","import React, { Component } from 'react'\nimport { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\"\nimport SearchPage from './pages/SearchPage'\n\nimport './style/common.css'\nimport QuotesPage from './pages/QuotesPage'\n\nclass App extends Component {\n\n\n  render() {\n    return <Router>\n      <Switch>\n        <Route exact={true} path=\"/\" render={()=><Redirect to={'/search'}/>}/>\n        <Route path=\"/search\" component={SearchPage}/>\n        <Route path=\"/quotes\" component={QuotesPage}/>\n        {/*<Route path=\"/portfolio\" component={Portfolio}/>*/}\n      </Switch>\n    </Router>\n  }\n}\n\nexport default App\n","import { combineReducers } from 'redux'\r\nimport app from './app'\r\nimport search from './search'\r\nimport quotes from './quotes'\r\n\r\nexport default combineReducers({\r\n  app,\r\n  quotes,\r\n  search\r\n})\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { applyMiddleware, createStore, compose } from 'redux'\nimport { initEnhancer } from './reduxUtils'\nimport thunk from 'redux-thunk'\nimport { Provider } from 'react-redux'\nimport rootReducer from './reducers'\n\nconst store = createStore(\n  rootReducer,\n  {},\n  compose(\n    applyMiddleware(thunk),\n    initEnhancer(false),\n  ),\n)\n\n\nReactDOM.render(<Provider store={store}>\n  <App />\n</Provider>, document.getElementById('root'));\n\nif (module.hot) {\n  module.hot.accept('./App', () => {\n    const NextApp = require('./App').default\n    ReactDOM.render(\n      <NextApp />,\n      document.getElementById('root')\n    )\n  })\n}\n\n","import { compose } from 'redux'\r\nimport persistState from 'redux-localstorage'\r\n\r\nexport function initEnhancer(persist = true, persistConfig = {}) {\r\n  const {paths, config} = persistConfig\r\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\n\r\n  return persist\r\n    ? composeEnhancers(persistState(paths, config))\r\n    : composeEnhancers()\r\n}\r\n"],"sourceRoot":""}