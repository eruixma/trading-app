{"version":3,"sources":["components/Layout.js","components/Page.js","reducers/app.js","reducers/quotes.js","reducers/portfolio.js","reducers/search.js","container/PageContext.js","Menu.js","components/SuggestionCard.js","components/SearchField.js","pages/SearchPage/SearchMain.js","components/SearchBar.js","components/SearchResultList.js","pages/SearchPage/SearchResult.js","pages/SearchPage/index.js","components/StockTitle.js","components/LineChart.js","components/CandleStickChart.js","components/StockOverview.js","pages/QuotesPage/StockInfo.js","components/WorldIndices.js","components/BarChart.js","components/SectorPerformance.js","pages/QuotesPage/Quotes.js","pages/QuotesPage/index.js","components/PortfolioTable.js","components/PortfolioKPI.js","components/PortfolioComposition.js","pages/PortfolioPage/Portfolio.js","pages/PortfolioPage/index.js","App.js","reducers/index.js","index.js","reduxUtils.js"],"names":["Logo","props","react_default","a","createElement","className","Layout","withContext","theme","PropTypes","oneOf","product","any","user","onProfileClick","func","showMenu","bool","showSettings","currApp","onToggleMenu","children","_ref","React","Children","only","Theme","getContext","_ref2","Header","string","_ref3","onClick","SettingsPanel","_ref4","classnames","hidden","AppWrapper","_ref5","slide-right","slide-left","AppBar","_ref6","closed","open-menu","AppMenu","_ref8","AppContent","_ref9","AppBody","_ref7","Input","Search","Page","state","getSettings","type","checked","_this","onChange","e","changeTheme","target","data-enabled","data-disabled","_this2","this","components_Layout","setState","old","pageName","Page_Theme","Page_Header","Page_SettingsPanel","Page_AppWrapper","Page_AppBar","appbar","Page_AppBody","Page_AppMenu","menu","Page_AppContent","Component","PageContext","store","object","isRequired","actions","rest","Object","objectWithoutProperties","Page_Page","assign","app","createActions","CHANGE_THEME","reducer","handleActions","defineProperty","combineActions","payload","objectSpread","updateWorldIndices","createAction","updateRealtimeSector","updatePrice","updateSummary","updateTimeSeries","updateDailyTimeSeries","fetchWorldIndices","dispatch","axios","get","then","indices","fetchRealtimeSector","sectors","_","mapValues","data","v","parseFloat","fetchPrice","symbol","concat","price","fetchSummary","summary","fetchIntradayTimeSeries","timeSeries","intradayTimeSeries","fetchDailyTimeSeries","dailyTimeSeries","_handleActions","worldIndices","realtimeSector","prices","summaries","Information Technology","Consumer Discretionary","Financials","Consumer Staples","Health Care","Utilities","Materials","Communication Services","Energy","Industrials","Real Estate","updatePortfolio","fetchPortfolio","stocks","updateSuggestions","updateSearchResults","clearSuggestions","fetchSuggestions","value","encodeurl","suggestions","search","results","forEach","result","quotesActions","search_handleActions","searchResults","connect","bindActionCreators","appActions","portfolioActions","searchActions","Menu","react_router_dom","to","PureComponent","SuggestionCard","company","SearchField","lastUpdateTime","Date","now","updateTimeout","getOnSuggestionsFetchRequested","reason","clearTimeout","setTimeout","dist_default","styles","onSuggestionsFetchRequested","onSuggestionsClearRequested","getSuggestionValue","suggestion","renderSuggestion","components_SuggestionCard","inputProps","placeholder","autoFocus","container","position","marginBottom","height","width","input","marginRight","fontSize","paddingLeft","cursor","paddingLop","suggestionsList","listStyle","marginLeft","padding","Radium","SearchTile","event","newValue","_this$props","match","history","style","tile","wrapper","label","components_SearchField","buttonWrapper","button","push","path","SearchTileContext","withRouter","SearchMain","container_PageContext","components_Page","src_Menu","goto","margin","justifyContent","SearchBar","location","values","queryString","parse","q","url","SearchResultList","arrowIconClassName","icon-arrow-down","change","charAt","icon-arrow-up","colorClassName","color-red","color-green","_this$props2","map","fontWeight","format","replace","display","flexDirection","description","SearchResultList_SearchResultList","quotes","SearchResult","react_router","components_SearchBar","components_SearchResultList","SearchPage","exact","component","StockTitle","params","react","LineChart","_xScaleProvider","discontinuousTimeScaleProvider","inputDateAccessor","d","time","xScaleProvider","sortBy","ts","timeParse","xScale","xAccessor","displayXAccessor","xExtents","last","react_stockcharts_es","ratio","pointsPerPxThreshold","left","right","top","bottom","seriesName","id","yExtents","close","XAxis_default","axisAt","orient","stroke","tickStroke","YAxis_default","ticks","coordinates","at","displayFormat","timeFormat","series","yAccessor","strokeWidth","hoverStrokeWidth","highlightOnHover","fitWidth","CandleStickChart","initialData","date","ema5","ema","options","windowSize","merge","c","accessor","ema20","calculatedData","console","log","Math","max","length","high","low","textFill","axes","open","wickStroke","fill","LineSeries_default","tooltip","forChart","origin","labelFill","GroupTooltip_default","layout","verticalSize","yLabel","valueFill","withShape","volume","w","h","tickFormat","defaultProps","StockOverview","_this$props2$store$qu","dailySeries","marginTop","components_LineChart","components_CandleStickChart","StockInfo","components_StockTitle","components_StockOverview","WorldIndices","index_es","reverseScroll","i","key","market","changePercent","icon-plus","icon-minus","PNBarChart","es6","y","p","n","tickFormatter","axisLine","dataKey","SectorPerformance","BarChart","keys","k","x","flexWrap","Quotes","components_WorldIndices","components_SectorPerformance","QuotesPage","PortfolioTable","handle","setInterval","clearInterval","portfolio","htmlFor","s","totalMarketValue","floatingProfitLoss","amount","costPrice","currentPrice","PortfolioKpi","totalMV","reduce","total","stock","pl","PortfolioComposition","industryCount","industry","other","name","COLORS","cx","cy","innerRadius","outerRadius","paddingAngle","entry","index","Portfolio","PortfolioKPI","components_PortfolioComposition","components_PortfolioTable","PortfolioPage","App","render","combineReducers","createStore","rootReducer","compose","applyMiddleware","thunk","persist","arguments","undefined","persistConfig","paths","config","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","persistState","initEnhancer","ReactDOM","react_redux_es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6790d3d0.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withContext, getContext } from 'recompose'\r\nimport classnames from 'classnames'\r\n\r\nfunction Logo(props) {\r\n  return <i className=\"icon icon-graph-line color-green\"/>\r\n}\r\n\r\nconst Layout = withContext({\r\n    theme: PropTypes.oneOf(['light', 'dark']),\r\n    product: PropTypes.any,\r\n    user: PropTypes.any,\r\n    onProfileClick: PropTypes.func,\r\n    showMenu: PropTypes.bool,\r\n    showSettings: PropTypes.bool,\r\n    currApp: PropTypes.any,\r\n    onToggleMenu: PropTypes.func,\r\n    children: PropTypes.any\r\n  },\r\n  props => props\r\n)(({children}) => React.Children.only(children))\r\n\r\n\r\nconst Theme = getContext({\r\n  theme: PropTypes.oneOf(['light', 'dark'])\r\n})(\r\n  ({theme, children}) => <div className={theme}>{children}</div>\r\n)\r\n\r\nconst Header = getContext({\r\n  product: PropTypes.string,\r\n  user: PropTypes.string,\r\n  onProfileClick: PropTypes.func\r\n})(\r\n  ({product, user, onProfileClick}) => <header className=\"sysbar\">\r\n    <div className=\"items-container\">\r\n      <div className=\"item\">\r\n        <Logo/>\r\n        <span className=\"product\">{product}</span>\r\n      </div>\r\n    </div>\r\n    <div className=\"items-container\">\r\n      <div className=\"item hover\" onClick={onProfileClick}>\r\n        <i className=\"icon icon-profile\"/>\r\n        <span className=\"username\">{user}</span>\r\n      </div>\r\n    </div>\r\n  </header>\r\n)\r\n\r\n\r\nconst SettingsPanel = getContext({\r\n  showSettings: PropTypes.bool\r\n})(\r\n  ({showSettings, children}) => <aside className={classnames(\"settings\", {hidden: !showSettings})}>\r\n    {children}\r\n  </aside>\r\n)\r\n\r\nconst AppWrapper = getContext({\r\n  showSettings: PropTypes.bool\r\n})(\r\n  ({showSettings, children}) => <div className={classnames(\"app\", {\r\n    \"slide-right\": !showSettings,\r\n    \"slide-left\": showSettings\r\n  })}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst AppBar = getContext({\r\n  showMenu: PropTypes.bool,\r\n  currApp: PropTypes.any,\r\n  onToggleMenu: PropTypes.func\r\n})(\r\n  ({showMenu, currApp, onToggleMenu, children}) => <nav className=\"appbar\">\r\n    <div className=\"actions-left\">\r\n      <div className=\"item\"  onClick={onToggleMenu} >\r\n        <i className={classnames(\"navigation-toggle\", {closed: showMenu})}/>\r\n      </div>\r\n      <div className={classnames(\"menu-anchor\", {\"open-menu\": showMenu})}>Menu</div>\r\n      <div className={classnames(\"title\", {\"open-menu\": showMenu})}>{currApp}</div>\r\n    </div>\r\n    <div className=\"actions-right\">{children}</div>\r\n  </nav>\r\n)\r\n\r\nconst AppBody = ({children}) => <div className=\"appbody\">{children}</div>\r\n\r\nconst AppMenu = getContext({\r\n  showMenu: PropTypes.bool\r\n})(\r\n  ({showMenu, children}) => <div className={classnames(\"appnav\", {hidden: !showMenu})}>{children}</div>\r\n)\r\n\r\nconst AppContent = ({children}) => <div className=\"appcontent\">{children}</div>\r\n\r\nLayout.AppBar = AppBar\r\nLayout.AppWrapper = AppWrapper\r\nLayout.SettingsPanel = SettingsPanel\r\nLayout.Header = Header\r\nLayout.Theme = Theme\r\nLayout.AppContent = AppContent\r\nLayout.AppMenu = AppMenu\r\nLayout.AppBody = AppBody\r\n\r\nexport default  Layout\r\n","import React, { PureComponent, Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Layout from './Layout'\r\nimport { Input } from 'antd'\r\nimport { getContext, withContext } from 'recompose'\r\n\r\nconst {Search} = Input\r\n\r\nconst {\r\n  AppBar,\r\n  AppWrapper,\r\n  SettingsPanel,\r\n  Header,\r\n  Theme,\r\n  AppContent,\r\n  AppMenu,\r\n  AppBody\r\n} = Layout\r\n\r\nclass Page extends Component {\r\n  state = {\r\n    showMenu: true,\r\n    showSettings: false\r\n  }\r\n\r\n  getSettings = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"column sm-12 container\">\r\n          <div className=\"profile\">\r\n            <i className=\"icon icon-profile\"/>\r\n            <div className=\"username\">Ruixin Ma</div>\r\n          </div>\r\n          <div className=\"content\">\r\n            <div className=\"title\">My settings</div>\r\n            <div className=\"item\">\r\n              <div className=\"left\"> Switch theme</div>\r\n              <div className=\"right\">\r\n                <label className=\"switch\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={this.props.theme === 'light'}\r\n                    onChange={e => {\r\n                      this.props.changeTheme(e.target.checked ? 'light' : 'dark')\r\n                    }}/>\r\n                  <i className=\"ball\"/>\r\n                  <span data-enabled=\"Light\" data-disabled=\"Dark\"/>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bottom\">\r\n            <button className=\"btn big\" type=\"button\">\r\n              <i className=\"icon icon-log-out\"/> Sign out\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.props.className}>\r\n        <Layout\r\n          theme={this.props.theme}\r\n          product={'Stock Trading'}\r\n          user={this.props.user}\r\n          onProfileClick={() => this.setState((old) => ({showSettings: !old.showSettings}))}\r\n          showMenu={this.state.showMenu}\r\n          showSettings={this.state.showSettings}\r\n          currApp={this.props.pageName}\r\n          onToggleMenu={() => this.setState((old) => ({showMenu: !old.showMenu}))}\r\n        >\r\n          <Theme>\r\n            <Header/>\r\n            <main>\r\n              <SettingsPanel>\r\n                {this.getSettings()}\r\n              </SettingsPanel>\r\n              <AppWrapper>\r\n                <AppBar>\r\n                  {this.props.appbar}\r\n                </AppBar>\r\n                <AppBody>\r\n                  <AppMenu>\r\n                    {this.props.menu}\r\n                  </AppMenu>\r\n                  <AppContent>\r\n                    {this.props.children}\r\n                  </AppContent>\r\n                </AppBody>\r\n              </AppWrapper>\r\n            </main>\r\n          </Theme>\r\n        </Layout>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nPage.propTypes = {\r\n  pageName: PropTypes.any,\r\n  user: PropTypes.string,\r\n  appbar: PropTypes.any,\r\n  menu: PropTypes.any,\r\n  changeTheme: PropTypes.func,\r\n  children: PropTypes.any\r\n}\r\n\r\nexport const PageContext = withContext({\r\n    store: PropTypes.object.isRequired,\r\n    actions: PropTypes.object.isRequired,\r\n    children: PropTypes.any\r\n  },\r\n  props => {\r\n    return props\r\n  }\r\n)(({children}) => React.Children.only(children))\r\n\r\n\r\nexport default getContext({\r\n  store: PropTypes.object.isRequired,\r\n  actions: PropTypes.object.isRequired\r\n})(\r\n  ({store, actions, children, ...rest}) => (\r\n    <Page\r\n      theme={store.app.theme}\r\n      changeTheme={actions.changeTheme}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Page>)\r\n)\r\n","import { createActions, handleActions, combineActions } from 'redux-actions';\r\n\r\nconst defaultState = { theme: 'dark' };\r\n\r\nexport const actions = createActions({\r\n  CHANGE_THEME: (theme) => ({ theme }),\r\n});\r\n\r\n\r\nconst {changeTheme} = actions\r\n\r\nconst reducer = handleActions(\r\n  {\r\n    [combineActions(changeTheme)]: (\r\n      state,\r\n      { payload: { theme } }\r\n    ) => {\r\n      return { ...state, theme };\r\n    }\r\n  },\r\n  defaultState\r\n);\r\n\r\nexport default reducer;\r\n","import { createAction, handleActions } from 'redux-actions'\r\nimport axios from 'axios'\r\nimport _ from \"lodash\"\r\n\r\n\r\nconst defaultState = {\r\n  worldIndices: [],\r\n  realtimeSector: {\r\n    \"Information Technology\": 0,\r\n    \"Consumer Discretionary\": 0,\r\n    \"Financials\": 0,\r\n    \"Consumer Staples\": 0,\r\n    \"Health Care\": 0,\r\n    \"Utilities\": 0,\r\n    \"Materials\": 0,\r\n    \"Communication Services\": 0,\r\n    \"Energy\": 0,\r\n    \"Industrials\": 0,\r\n    \"Real Estate\": 0\r\n  },\r\n  prices:{},\r\n  summaries:{},\r\n  intradayTimeSeries:{},\r\n  dailyTimeSeries:{},\r\n}\r\n\r\nconst fetchWorldIndices = () => dispatch => {\r\n  axios\r\n    .get(`/api/v1/quotes/indices`)\r\n    .then((indices) => {\r\n      dispatch(updateWorldIndices(indices))\r\n    })\r\n}\r\n\r\nconst fetchRealtimeSector = ()=>dispatch =>{\r\n  axios\r\n    .get('/api/v1/quotes/sector')\r\n    .then(sectors=>{\r\n      dispatch(updateRealtimeSector(_.mapValues(sectors.data, v=>parseFloat(v))))\r\n    })\r\n}\r\n\r\nconst fetchPrice = (symbol)=>dispatch=>{\r\n  axios.get(`/api/v1/quotes/price/${symbol}`)\r\n    .then(price=>{\r\n      dispatch(updatePrice({symbol, price: price.data}))\r\n    })\r\n}\r\n\r\nconst fetchSummary = (symbol)=>dispatch=>{\r\n  axios.get(`/api/v1/search/stocks?q=symbol:${symbol}`)\r\n    .then(summary=>{\r\n      dispatch(updateSummary({symbol, summary: summary.data[0]}))\r\n    })\r\n}\r\n\r\nconst fetchIntradayTimeSeries = (symbol)=>dispatch=>{\r\n  axios.get(`/api/v1/quotes/timeseries/${symbol}?function=TIME_SERIES_INTRADAY&interval=1`)\r\n    .then(timeSeries=>{\r\n      dispatch(updateTimeSeries({symbol, intradayTimeSeries: timeSeries.data}))\r\n    })\r\n}\r\n\r\nconst fetchDailyTimeSeries = (symbol)=>dispatch=>{\r\n  axios.get(`/api/v1/quotes/timeseries/${symbol}?function=TIME_SERIES_DAILY`)\r\n    .then(timeSeries=>{\r\n      dispatch(updateDailyTimeSeries({symbol, dailyTimeSeries: timeSeries.data}))\r\n    })\r\n}\r\n\r\n\r\nconst updateWorldIndices = createAction('UPDATE_WORLD_INDICES')\r\nconst updateRealtimeSector = createAction('UPDATE_REALTIME_SECTOR')\r\nconst updatePrice = createAction('UPDATE_STOCK')\r\nconst updateSummary = createAction('UPDATE_SUMMARY')\r\nconst updateTimeSeries = createAction('UPDATE_TIME_SERIES')\r\nconst updateDailyTimeSeries = createAction('UPDATE_DAILY_TIME_SERIES')\r\n\r\nexport const actions = {\r\n  fetchWorldIndices,\r\n  fetchRealtimeSector,\r\n  fetchPrice,\r\n  fetchSummary,\r\n  fetchIntradayTimeSeries,\r\n  fetchDailyTimeSeries,\r\n  updateWorldIndices,\r\n  updateRealtimeSector,\r\n  updatePrice,\r\n  updateSummary,\r\n  updateTimeSeries,\r\n  updateDailyTimeSeries,\r\n}\r\n\r\n\r\nconst reducer = handleActions(\r\n  {\r\n    [updateWorldIndices]: (state, {payload}) => {\r\n      return {...state, worldIndices:payload.data}\r\n    },\r\n    [updateRealtimeSector]: (state, {payload}) => {\r\n      return {...state, realtimeSector:payload}\r\n    },\r\n    [updatePrice]: (state, {payload})=>{\r\n      return {...state, prices: {...state.prices, [payload.symbol]: payload.price}}\r\n    },\r\n    [updateSummary]: (state, {payload})=>{\r\n      return {...state, summaries: {...state.summaries, [payload.symbol]: payload.summary}}\r\n    },\r\n    [updateTimeSeries]: (state, {payload})=>{\r\n      return {...state, intradayTimeSeries: {...state.intradayTimeSeries, [payload.symbol]: payload.intradayTimeSeries}}\r\n    },\r\n    [updateDailyTimeSeries]: (state, {payload})=>{\r\n      return {...state, dailyTimeSeries: {...state.dailyTimeSeries, [payload.symbol]: payload.dailyTimeSeries}}\r\n    },\r\n  },\r\n  defaultState\r\n)\r\n\r\nexport default reducer\r\n","import { createAction, handleActions } from 'redux-actions'\r\nimport axios from 'axios'\r\nimport _ from \"lodash\"\r\n\r\n\r\nconst defaultState = {\r\n  stocks:[]\r\n}\r\n\r\n\r\nconst fetchPortfolio = () => dispatch => {\r\n  axios\r\n    .get(`/api/v1/portfolio/`)\r\n    .then(({data}) => {\r\n      dispatch(updatePortfolio(data))\r\n    })\r\n}\r\n\r\nconst updatePortfolio = createAction('UPDATE_PORTFOLIO')\r\n\r\n\r\nexport const actions = {\r\n  fetchPortfolio,\r\n}\r\n\r\nconst reducer = handleActions(\r\n  {\r\n    [updatePortfolio]: (state, {payload}) => {\r\n      return {...state, stocks:payload}\r\n    },\r\n  },\r\n  defaultState\r\n)\r\n\r\nexport default reducer\r\n","import { createAction, handleActions } from 'redux-actions'\r\nimport axios from 'axios'\r\nimport encodeurl from \"encodeurl\"\r\n\r\nimport { actions as quotesActions } from './quotes'\r\n\r\n\r\nconst defaultState = {\r\n  suggestions: [],\r\n  searchResults: []\r\n\r\n}\r\n\r\nconst fetchSuggestions = (value) => dispatch => {\r\n  axios\r\n    .get(encodeurl(`/api/v1/search/suggestions?q=${value}&limit=5`))\r\n    .then((suggestions) => {\r\n      dispatch(updateSuggestions(suggestions))\r\n    })\r\n}\r\n\r\nconst search = (value) => dispatch => {\r\n  axios\r\n    .get(encodeurl(`/api/v1/search/stocks?q=${value}`))\r\n    .then((results) => {\r\n      dispatch(updateSearchResults(results))\r\n      results.data.forEach(result => {\r\n        dispatch(quotesActions.fetchPrice(result.symbol))\r\n      })\r\n    })\r\n}\r\n\r\nconst updateSuggestions = createAction('UPDATE_SUGGESTIONS')\r\n\r\nconst updateSearchResults = createAction('UPDATE_SEARCH_RESULTS')\r\n\r\nconst clearSuggestions = createAction('CLEAR_SUGGESTIONS')\r\n\r\nexport const actions = {\r\n  fetchSuggestions,\r\n  search,\r\n  updateSuggestions,\r\n  updateSearchResults,\r\n  clearSuggestions\r\n}\r\n\r\nconst reducer = handleActions(\r\n  {\r\n    [updateSuggestions]: (state, {payload}) => {\r\n      return {...state, suggestions: payload.data}\r\n    },\r\n\r\n    [updateSearchResults]: (state, {payload}) => {\r\n      return {...state, searchResults: payload.data}\r\n    },\r\n\r\n    // [clearSuggestions]: (state) => {\r\n    //   return {...state, suggestions: []}\r\n    // }\r\n  },\r\n  defaultState\r\n)\r\n\r\nexport default reducer\r\n","import React from \"react\"\r\nimport { bindActionCreators } from 'redux'\r\nimport connect from 'react-redux/es/connect/connect'\r\nimport {actions as appActions} from '../reducers/app'\r\nimport {actions as quotesActions} from '../reducers/quotes'\r\nimport {actions as portfolioActions} from '../reducers/portfolio'\r\nimport {actions as searchActions} from '../reducers/search'\r\nimport { PageContext } from '../components/Page'\r\n\r\nfunction mapStateToProps(state) {\r\n  return {store: {...state}}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({\r\n      ...appActions,\r\n      ...quotesActions,\r\n      ...portfolioActions,\r\n      ...searchActions,\r\n    }, dispatch)\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(PageContext)\r\n","import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nclass Menu extends PureComponent {\r\n  render() {\r\n    return (\r\n      <div className=\"tree navigation\">\r\n        <ul>\r\n          <li>\r\n            <NavLink className=\"item\" to=\"/search\">Search<i className=\"icon icon-search right-align\"/></NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink className=\"item\" to=\"/quotes\">Quotes</NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink className=\"item\" to=\"/portfolio\">Portfolio</NavLink>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nMenu.propTypes = {}\r\n\r\nexport default Menu\r\n","import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass SuggestionCard extends PureComponent {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"header\">\r\n          <div className=\"left\">\r\n            <div className=\"title\">{this.props.company}</div>\r\n            <div className=\"subtitle\">{this.props.symbol}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nSuggestionCard.propTypes = {\r\n  symbol: PropTypes.string,\r\n  company: PropTypes.string,\r\n\r\n}\r\n\r\nexport default SuggestionCard\r\n","import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Radium from 'radium'\r\nimport Autosuggest from 'react-autosuggest'\r\nimport SuggestionCard from './SuggestionCard'\r\n\r\nclass SearchField extends PureComponent {\r\n  lastUpdateTime =  Date.now()\r\n  updateTimeout = null\r\n\r\n  getOnSuggestionsFetchRequested = ({value, reason}) => {\r\n    if ((reason === 'input-changed')) {\r\n      if(this.updateTimeout)\r\n        clearTimeout(this.updateTimeout)\r\n\r\n      this.updateTimeout = setTimeout(()=>{\r\n        this.props.fetchSuggestions(value)\r\n        this.lastUpdateTime = Date.now()\r\n        this.updateTimeout = null\r\n      }, 500)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Autosuggest\r\n          theme={styles.theme}\r\n          suggestions={this.props.suggestions}\r\n          onSuggestionsFetchRequested={this.getOnSuggestionsFetchRequested}\r\n          onSuggestionsClearRequested={() => this.props.clearSuggestions()}\r\n          getSuggestionValue={suggestion => suggestion.company}\r\n          renderSuggestion={suggestion => <SuggestionCard {...suggestion}/>}\r\n          inputProps={{\r\n            placeholder: '',\r\n            value: this.props.value,\r\n            onChange: this.props.onChange,\r\n            autoFocus: true\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nSearchField.propTypes = {\r\n  suggestions: PropTypes.array,\r\n  clearSuggestions: PropTypes.func,\r\n  fetchSuggestions: PropTypes.func\r\n}\r\n\r\nconst styles = {\r\n  theme: {\r\n    container: {\r\n      position: 'relative',\r\n      marginBottom: '28px',\r\n      height: '60px',\r\n      width: '900px',\r\n    },\r\n    input: {\r\n      marginRight: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      fontSize: '24px',\r\n      paddingLeft: ' 8px',\r\n      cursor: 'text',\r\n      paddingLop: '21px',\r\n    },\r\n    suggestionsList: {\r\n      listStyle: 'none',\r\n      marginLeft: '-47px'\r\n    },\r\n    suggestion: {\r\n      padding: 0\r\n    }\r\n  }\r\n}\r\nexport default Radium(SearchField)\r\n","import React, { Component, PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Page from '../../components/Page'\r\nimport PageContext from '../../container/PageContext'\r\nimport Menu from '../../Menu'\r\nimport SearchField from '../../components/SearchField'\r\nimport Radium from \"radium\"\r\nimport encodeurl from \"encodeurl\"\r\nimport { getContext } from 'recompose'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n\r\nclass SearchTile extends Component {\r\n  state = {\r\n    value: ''\r\n  }\r\n  onChange = (event, {newValue}) => {\r\n    this.setState({\r\n      value: newValue\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {store, actions, match, history} = this.props\r\n    let {value} = this.state\r\n\r\n    return <div className=\"tile\" style={styles.tile}>\r\n      <div className=\"wrapper\" style={styles.wrapper}>\r\n        <div className=\"row\">\r\n          <label style={styles.label}>Input symbol, company, description, or anything you like</label>\r\n        </div>\r\n        <div className=\"row\">\r\n          <SearchField\r\n            suggestions={store.search.suggestions}\r\n            fetchSuggestions={actions.fetchSuggestions}\r\n            clearSuggestions={actions.clearSuggestions}\r\n            value={value}\r\n            onChange={this.onChange}\r\n          />\r\n        </div>\r\n        <div className=\"row\">\r\n          <div style={styles.buttonWrapper}>\r\n            <button\r\n              className=\"btn primary\"\r\n              style={styles.button}\r\n              onClick={() => {\r\n                history.push(encodeurl(`${match.path}result?q=${value}`))\r\n                actions.search(value)\r\n              }}\r\n            >\r\n              Search\r\n            </button>\r\n            <button className=\"btn\" style={styles.button}>I'm Feeling Lucky</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\n\r\nconst SearchTileContext = getContext({\r\n  store: PropTypes.object.isRequired,\r\n  actions: PropTypes.object.isRequired\r\n})(withRouter(SearchTile))\r\n\r\nclass SearchMain extends Component {\r\n  render() {\r\n    return (\r\n      <PageContext>\r\n        <Page\r\n          pageName={<span className={'title-name'}>Search stocks</span>}\r\n          user={'Ruixin'}\r\n          menu={<Menu/>}\r\n        >\r\n          <SearchTileContext\r\n            goto={this.props.history.push}\r\n          />\r\n        </Page>\r\n      </PageContext>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  button: {\r\n    fontSize: '24px',\r\n  },\r\n  buttonWrapper: {\r\n    margin: '0 auto',\r\n  },\r\n  label: {\r\n    fontSize: '32px',\r\n    margin: '0 auto',\r\n    marginBottom: '28px',\r\n  },\r\n  tile: {\r\n    height: '100%',\r\n    width: '100%',\r\n    justifyContent: 'center',\r\n  },\r\n  wrapper: {\r\n    margin: '0 auto 0 auto',\r\n    marginBottom: '10%'\r\n  },\r\n}\r\n\r\nexport default Radium(SearchMain)\r\n","import React, { Component } from 'react'\r\nimport encodeurl from 'encodeurl'\r\nimport { getContext } from 'recompose'\r\nimport PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\nimport queryString from 'query-string'\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    value: ''\r\n  }\r\n\r\n  onChange = (value) => this.setState({value})\r\n\r\n  componentDidMount(){\r\n    const {location} = this.props\r\n    const values = queryString.parse(location.search)\r\n    this.setState({value:values.q})\r\n  }\r\n\r\n  render() {\r\n    let {value} = this.state\r\n    const {history, match, actions} = this.props\r\n\r\n    return (\r\n      <div>\r\n        <input\r\n          type=\"text\"\r\n          value={value}\r\n          onChange={(e) => this.onChange(e.target.value)}\r\n          style={{width: '400px'}}\r\n        />\r\n        <button\r\n          onClick={() => {\r\n            history.push(encodeurl(`${match.url}?q=${value}`))\r\n            actions.search(value)\r\n          }}\r\n          className=\"btn primary\"\r\n        >\r\n          Search\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default getContext({actions: PropTypes.object})(withRouter(SearchBar))\r\n","import React, { Component } from 'react'\r\nimport * as classnames from 'classnames'\r\nimport * as PropTypes from 'prop-types'\r\nimport { getContext } from 'recompose'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport queryString from 'query-string'\r\nimport { format } from 'd3-format'\r\n\r\nclass SearchResultList extends Component {\r\n\r\n  arrowIconClassName = (price) => classnames(\"icon\", {\r\n    \"icon-arrow-down\": price.change.charAt(0) === '-',\r\n    \"icon-arrow-up\": price.change.charAt(0) === '+'\r\n  })\r\n\r\n  colorClassName = (price) => classnames(\"item text-md\", {\r\n    \"color-red\": price.change.charAt(0) === '-',\r\n    \"color-green\": price.change.charAt(0) === '+',\r\n  })\r\n\r\n  componentDidMount() {\r\n    const {location, search} = this.props\r\n    const values = queryString.parse(location.search)\r\n    if (values.q) {\r\n      search(values.q)\r\n\r\n    }\r\n    // TODO search result page should always have \"q\" param\r\n  }\r\n\r\n  render() {\r\n    const {results, prices} = this.props\r\n\r\n    return results.map(result => (\r\n      <div className=\"row\">\r\n        <div className=\"tile sm-12\" style={{height: '240px'}}>\r\n          <div className=\"content\">\r\n            <div className=\"row\">\r\n              <div className=\"column sm-3\">\r\n                {prices[result.symbol] ?\r\n                  <div style={{padding: 16}}>\r\n                    <div className=\"kpi\">\r\n                      <div className=\"item text-xl\">\r\n                        <span>{prices[result.symbol].price}</span>\r\n                      </div>\r\n                      <div className={this.colorClassName(prices[result.symbol])}>\r\n                        <span>\r\n                          <i className={this.arrowIconClassName(prices[result.symbol])}/>\r\n                        </span>\r\n                        <span>{prices[result.symbol].change}</span>\r\n                        <span>&nbsp;</span>\r\n                      </div>\r\n                    </div>\r\n                    <table className={'table tiny dashed'}>\r\n                      <tbody>\r\n                      <tr>\r\n                        <td style={{fontWeight: 500}}>Market Cap</td>\r\n                        <td>{format(\",.4s\")(result['MarketCap']).replace(/G/,\"B\")}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td style={{fontWeight: 500}}>Enterprise Value</td>\r\n                        <td>{format(\",.4s\")(result['EnterpriseValue']).replace(/G/,\"B\")}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td style={{fontWeight: 500}}>P/E (TTM)</td>\r\n                        <td>{result['PE']}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td style={{fontWeight: 500}}>P/B</td>\r\n                        <td>{result['PB']}</td>\r\n                      </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div> : (\r\n                    <div style={{display: 'flex', justifyContent: 'center', height: '100%', flexDirection: 'column'}}>\r\n                      <div className=\"loading\" style={{margin: '0 auto'}}/>\r\n                    </div>\r\n                  )\r\n                }\r\n              </div>\r\n              <div className=\"column sm-9\">\r\n                <h3 style={{margin: 0, marginBottom: 8}}>\r\n                  <Link to={`/quotes/stock/${result.symbol}`}>\r\n                    {`${result.company}  (${result.symbol})`}\r\n                  </Link>\r\n                </h3>\r\n                <p>{result.description.replace('\\\\n\\\\n', '').replace('\\\\', '')}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ))\r\n  }\r\n}\r\n\r\nexport default getContext({\r\n  store: PropTypes.object.isRequired,\r\n  actions: PropTypes.object.isRequired,\r\n})(withRouter(({store, actions, location}) => <SearchResultList\r\n  results={store.search.searchResults}\r\n  prices={store.quotes.prices}\r\n  search={actions.search}\r\n  location={location}\r\n/>))\r\n","import React, { Component } from 'react'\r\nimport queryString from 'query-string'\r\n\r\nimport { Redirect } from 'react-router-dom'\r\nimport Page from '../../components/Page'\r\nimport Menu from '../../Menu'\r\nimport PageContext from '../../container/PageContext'\r\nimport SearchBar from '../../components/SearchBar'\r\nimport SearchResultList from '../../components/SearchResultList'\r\n\r\n\r\nclass SearchResult extends Component {\r\n\r\n\r\n  componentDidMount() {\r\n    const {location, actions} = this.props\r\n    const values = queryString.parse(location.search)\r\n    if (values.q) {\r\n      this.setState({value: values.q})\r\n\r\n    }\r\n    // TODO search result page should always have \"q\" param\r\n  }\r\n\r\n  render() {\r\n    return this.props.location.search === '' ? (\r\n      <Redirect to={'/'}/>\r\n    ) : (\r\n      <PageContext>\r\n        <Page\r\n          pageName={<SearchBar/>}\r\n          user={'Ruixin'}\r\n          menu={<Menu/>}\r\n        >\r\n          <SearchResultList/>\r\n        </Page>\r\n      </PageContext>\r\n    )\r\n  }\r\n}\r\n\r\nSearchResult.propTypes = {}\r\n\r\nexport default SearchResult\r\n","import React, { Component } from 'react'\r\nimport { Route, Switch } from \"react-router-dom\"\r\nimport SearchMain from './SearchMain'\r\nimport SearchResult from './SearchResult'\r\n\r\n\r\nclass SearchPage extends Component {\r\n\r\n  render() {\r\n    const {match} = this.props\r\n    return (\r\n        <Switch>\r\n          <Route exact path={`${match.path}/`} component={SearchMain}/>\r\n          <Route path={`${match.path}/result`} component={SearchResult}/>\r\n        </Switch>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default SearchPage\r\n","import React, { Component, Fragment } from 'react'\r\nimport { getContext } from 'recompose'\r\nimport PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass StockTitle extends Component {\r\n  render() {\r\n    const {match, store: {quotes: {summaries}}} = this.props\r\n    const symbol = match.params.symbol\r\n    return (\r\n      <Fragment>\r\n        <span className=\"title-name\">\r\n          {summaries[symbol]&& summaries[symbol].company}\r\n        </span>\r\n        <span className=\"subtitle\">{symbol}</span>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default getContext({store: PropTypes.object})(withRouter(StockTitle))\r\n","import React, { Component } from 'react'\r\nimport { discontinuousTimeScaleProvider } from 'react-stockcharts/lib/scale'\r\nimport { timeFormat, timeParse } from 'd3-time-format'\r\nimport { last } from 'react-stockcharts/lib/utils'\r\nimport { Chart, ChartCanvas } from 'react-stockcharts'\r\nimport XAxis from 'react-stockcharts/lib/axes/XAxis'\r\nimport YAxis from 'react-stockcharts/lib/axes/YAxis'\r\nimport { CrossHairCursor, MouseCoordinateX, MouseCoordinateY } from 'react-stockcharts/lib/coordinates'\r\nimport { LineSeries } from 'react-stockcharts/lib/series'\r\nimport { fitWidth } from 'react-stockcharts/lib/helper'\r\nimport { format } from \"d3-format\"\r\nimport _ from 'lodash'\r\n\r\n\r\nclass LineChart extends Component {\r\n  render() {\r\n    const timeSeries = this.props.data\r\n    const xScaleProvider = discontinuousTimeScaleProvider.inputDateAccessor(d => d.time);\r\n    const {\r\n      data,\r\n      xScale,\r\n      xAccessor,\r\n      displayXAccessor,\r\n    } = xScaleProvider(_.sortBy(timeSeries.map(ts=>({...ts, time: timeParse(\"%Y-%m-%d %H:%M:%S\")(ts.time)})), ['time']));\r\n    const xExtents = [\r\n      xAccessor(last(data)),\r\n      xAccessor(data[0])\r\n    ];\r\n    return (\r\n      <ChartCanvas ratio={this.props.ratio}\r\n                   width={this.props.width}\r\n                   height={200}\r\n                   pointsPerPxThreshold={1}\r\n                   margin={{ left: 70, right: 70, top: 0, bottom: 30 }}\r\n                   seriesName={this.props.symbol}\r\n                   data={data}\r\n                   xAccessor={xAccessor}\r\n                   displayXAccessor={displayXAccessor}\r\n                   xScale={xScale}\r\n                   xExtents={xExtents}>\r\n        <Chart id={1} yExtents={d => [d.close]}>\r\n          <XAxis axisAt=\"bottom\" orient=\"bottom\" stroke={'#f2f2f2'} tickStroke={'#f2f2f2'}/>\r\n          <YAxis axisAt=\"left\" orient=\"left\" ticks={7} stroke={'#f2f2f2'} tickStroke={'#f2f2f2'}/>\r\n          <MouseCoordinateX\r\n            at=\"bottom\"\r\n            orient=\"bottom\"\r\n            displayFormat={timeFormat(\"%Y-%m-%d %H:%M:%S\")} />\r\n          <MouseCoordinateY\r\n            at=\"right\"\r\n            orient=\"right\"\r\n            displayFormat={format(\",.2f\")} />\r\n\r\n          <LineSeries\r\n            yAccessor={d => d.close}\r\n            strokeWidth={2}\r\n            hoverStrokeWidth={4}\r\n            highlightOnHover\r\n\r\n            stroke=\"#288964\"/>\r\n        </Chart>\r\n\r\n        <CrossHairCursor stroke={'#f2f2f2'}/>\r\n      </ChartCanvas>\r\n    )\r\n  }\r\n}\r\n\r\nLineChart = fitWidth(LineChart)\r\n\r\nexport default LineChart\r\n","import React, { Component, PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { format } from \"d3-format\"\r\nimport { timeFormat, timeParse } from \"d3-time-format\"\r\n\r\nimport { ChartCanvas, Chart } from \"react-stockcharts\"\r\nimport { BarSeries, CandlestickSeries } from \"react-stockcharts/lib/series\"\r\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\"\r\nimport {\r\n  CrossHairCursor,\r\n  MouseCoordinateX,\r\n  MouseCoordinateY\r\n} from \"react-stockcharts/lib/coordinates\"\r\n\r\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\"\r\nimport { OHLCTooltip } from \"react-stockcharts/lib/tooltip\"\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\"\r\nimport { last } from \"react-stockcharts/lib/utils\"\r\nimport _ from 'lodash'\r\nimport { ema, stochasticOscillator, bollingerBand } from \"react-stockcharts/lib/indicator\";\r\nimport LineSeries from 'react-stockcharts/lib/series/LineSeries'\r\nimport GroupTooltip from 'react-stockcharts/lib/tooltip/GroupTooltip'\r\n\r\nclass CandleStickChart extends PureComponent {\r\n  render() {\r\n    const {type, data: initialData, width, ratio} = this.props\r\n\r\n    const xScaleProvider = discontinuousTimeScaleProvider.inputDateAccessor(d => d.date)\r\n\r\n    const ema5 = ema()\r\n      .id(0)\r\n      .options({ windowSize: 5 })\r\n      .merge((d, c) => {d.ema5 = c;})\r\n      .stroke('#0082f0')\r\n      .accessor(d => d.ema5);\r\n\r\n    const ema20 = ema()\r\n      .id(0)\r\n      .options({ windowSize: 20 })\r\n      .merge((d, c) => {d.ema20 = c;})\r\n      .stroke('#dcaf00')\r\n      .accessor(d => d.ema20);\r\n\r\n\r\n    let calculatedData = ema20(ema5(initialData.map(ts => ({\r\n      ...ts,\r\n      date: timeParse(\"%Y-%m-%d\")(ts.time)\r\n    }))))\r\n\r\n    const {data, xScale, xAccessor, displayXAccessor} = xScaleProvider(_.sortBy(calculatedData, ['date']))\r\n    console.log(data)\r\n\r\n    const start = xAccessor(last(data))\r\n    const end = xAccessor(data[Math.max(0, data.length - 90)])\r\n    const xExtents = [start, end]\r\n\r\n\r\n\r\n    return (\r\n      <ChartCanvas\r\n        height={420}\r\n        ratio={ratio}\r\n        width={width}\r\n        margin={{left: 70, right: 70, top: 10, bottom: 30}}\r\n        type={type}\r\n        seriesName={this.props.symbol}\r\n        data={data}\r\n        xScale={xScale}\r\n        xAccessor={xAccessor}\r\n        displayXAccessor={displayXAccessor}\r\n        xExtents={xExtents}\r\n      >\r\n        <Chart id={100} yExtents={[d => [d.high, d.low]]} textFill={'#f2f2f2'}>\r\n          <XAxis axisAt=\"bottom\" orient=\"bottom\" tickStroke={'#f2f2f2'} stroke={'#f2f2f2'} ticks={20}/>\r\n          <YAxis axisAt=\"left\" orient=\"left\" ticks={10} stroke={'none'} tickStroke={'#f2f2f2'}/>\r\n          <MouseCoordinateY\r\n            at=\"right\"\r\n            orient=\"right\"\r\n            displayFormat={format(\".2f\")}\r\n          />\r\n          <CandlestickSeries\r\n            stroke={d => d.close > d.open ? \"#288964\" : \"#dc2d37\"}\r\n            wickStroke={d => d.close > d.open ? \"#288964\" : \"#dc2d37\"}\r\n            fill={d => d.close > d.open ? \"#288964\" : \"#dc2d37\"}\r\n          />\r\n          <LineSeries yAccessor={ema5.accessor()} stroke={ema5.stroke()} strokeWidth={2}/>\r\n          <LineSeries yAccessor={ema20.accessor()} stroke={ema20.stroke()} strokeWidth={2}/>\r\n          <OHLCTooltip forChart={1} origin={[0, 0]} textFill={'#f2f2f2'} labelFill={'#0082f0'}/>\r\n          <GroupTooltip\r\n            layout=\"vertical\"\r\n            origin={[0, 30]}\r\n            verticalSize={20}\r\n            onClick={e => console.log(e)}\r\n            options={[\r\n              {\r\n                yAccessor: ema5.accessor(),\r\n                yLabel: `${ema5.type()}(${ema5.options().windowSize})`,\r\n                valueFill: ema5.stroke(),\r\n                withShape: true,\r\n              },\r\n              {\r\n                yAccessor: ema20.accessor(),\r\n                yLabel: `${ema20.type()}(${ema20.options().windowSize})`,\r\n                valueFill: ema20.stroke(),\r\n                withShape: true,\r\n              }\r\n            ]}\r\n          />\r\n        </Chart>\r\n        <Chart id={200} height={150} yExtents={d => d.volume} origin={(w, h) => [0, h - 150]}>\r\n          <YAxis axisAt=\"right\" orient=\"right\" ticks={5} tickFormat={format(\".2s\")} stroke={'none'} tickStroke={'#f2f2f2'}/>\r\n\r\n          <MouseCoordinateX\r\n            at=\"bottom\"\r\n            orient=\"bottom\"\r\n            displayFormat={timeFormat(\"%Y-%m-%d\")}\r\n          />\r\n          <MouseCoordinateY\r\n            at=\"left\"\r\n            orient=\"left\"\r\n            displayFormat={format(\".4s\")}\r\n          />\r\n\r\n          <BarSeries yAccessor={d => d.volume} fill={d => (d.close > d.open ? \"rgba(40, 137, 100, 0.5)\" : \"rgba(220, 45, 55, 0.5)\")}\r\n          />\r\n        </Chart>\r\n        <CrossHairCursor stroke={'#f2f2f2'}/>\r\n      </ChartCanvas>\r\n    )\r\n  }\r\n}\r\n\r\nCandleStickChart.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.shape({\r\n    date: PropTypes.string,\r\n    open: PropTypes.number,\r\n    high: PropTypes.number,\r\n    low: PropTypes.number,\r\n    close: PropTypes.number,\r\n    volume: PropTypes.number\r\n  })).isRequired,\r\n  width: PropTypes.number.isRequired,\r\n  ratio: PropTypes.number.isRequired,\r\n  type: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired\r\n}\r\n\r\nCandleStickChart.defaultProps = {\r\n  type: \"svg\"\r\n}\r\n\r\nCandleStickChart = fitWidth(\r\n  CandleStickChart\r\n)\r\n\r\nexport default CandleStickChart\r\n","import React, { Fragment, PureComponent } from 'react'\r\nimport { getContext } from 'recompose'\r\nimport PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\nimport * as classnames from 'classnames'\r\nimport LineChart from './LineChart'\r\nimport { format } from 'd3-format'\r\nimport CandleStickChart from './CandleStickChart'\r\n\r\nclass StockOverview extends PureComponent {\r\n  arrowIconClassName = (price) => classnames(\"icon\", {\r\n    \"icon-arrow-down\": price.change.charAt(0) === '-',\r\n    \"icon-arrow-up\": price.change.charAt(0) === '+'\r\n  })\r\n  colorClassName = (price) => classnames(\"item text-md\", {\r\n    \"color-red\": price.change.charAt(0) === '-',\r\n    \"color-green\": price.change.charAt(0) === '+',\r\n  })\r\n\r\n  componentDidMount() {\r\n    const {match, actions} = this.props\r\n    actions.fetchDailyTimeSeries(match.params.symbol)\r\n    actions.fetchSummary(match.params.symbol)\r\n    actions.fetchPrice(match.params.symbol)\r\n    actions.fetchIntradayTimeSeries(match.params.symbol)\r\n  }\r\n\r\n  render() {\r\n    const {store: {quotes: {prices, summaries, intradayTimeSeries, dailyTimeSeries}}, match: {params: {symbol}}} = this.props\r\n\r\n    const price = prices[symbol]\r\n    const summary = summaries[symbol]\r\n    const timeSeries = intradayTimeSeries[symbol]\r\n    const dailySeries = dailyTimeSeries[symbol]\r\n    return (\r\n      <Fragment>\r\n        <div className={'row'} style={{height: '280px'}}>\r\n          <div className=\"tile sm-3\">\r\n            <div className=\"content\">\r\n              {price&&summary ? (\r\n                <div style={{margin:'0 auto'}}>\r\n                  <div className=\"kpi\">\r\n                    <div className=\"item text-xl\">\r\n                      <span>{price.price}</span>\r\n                    </div>\r\n                    <div className={this.colorClassName(price)}>\r\n                        <span>\r\n                          <i className={this.arrowIconClassName(price)}/>\r\n                        </span>\r\n                      <span>{price.change}</span>\r\n                      <span>&nbsp;</span>\r\n                    </div>\r\n                  </div>\r\n                  <table className={'table tiny dashed'} style={{marginTop: '10px'}}>\r\n                    <thead>\r\n                    <tr><th/><th/></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>Market Cap</td>\r\n                      <td>{format(\",.4s\")(summary['MarketCap']).replace(/G/,\"B\")}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>Enterprise Value</td>\r\n                      <td>{format(\",.4s\")(summary['EnterpriseValue']).replace(/G/,\"B\")}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>P/E (TTM)</td>\r\n                      <td>{format(\",.2f\")(summary['PE'])}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>P/B</td>\r\n                      <td>{format(\",.2f\")(summary['PB'])}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>Headquarters</td>\r\n                      <td>{summary['location']}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={{fontWeight: 500}}>Industry</td>\r\n                      <td>{summary['industry']}</td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n\r\n                </div>) :\r\n                <div style={{display: 'flex', justifyContent: 'center', height: '100%', flexDirection: 'column'}}>\r\n                  <div className=\"loading\" style={{margin: '0 auto'}}/>\r\n                </div>\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className=\"tile sm-9\">\r\n            <div className=\"header\">\r\n              <div className=\"left\">\r\n                <div className=\"title\">Intraday</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"content\">\r\n              {timeSeries ? <LineChart data={timeSeries} symbol={symbol}/> :\r\n                <div style={{display: 'flex', justifyContent: 'center', height: '100%', flexDirection: 'column'}}>\r\n                  <div className=\"loading\" style={{margin: '0 auto'}}/>\r\n                </div>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\" style={{height: 500}}>\r\n          <div className=\"tile sm-12\">\r\n            <div className=\"header\">\r\n              <div className=\"left\">\r\n                <div className=\"title\">Daily</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"content\">\r\n              {dailySeries ? <CandleStickChart data={dailySeries} symbol={symbol}/> :\r\n                <div style={{display: 'flex', justifyContent: 'center', height: '100%', flexDirection: 'column'}}>\r\n                  <div className=\"loading\" style={{margin: '0 auto'}}/>\r\n                </div>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default getContext({\r\n  store: PropTypes.object,\r\n  actions: PropTypes.object,\r\n})(withRouter(StockOverview))\r\n","import React, { Component } from 'react'\r\nimport PageContext from '../../container/PageContext'\r\nimport Page from '../../components/Page'\r\nimport Menu from '../../Menu'\r\nimport SearchResultList from '../../components/SearchResultList'\r\nimport StockTitle from '../../components/StockTitle'\r\nimport StockOverview from '../../components/StockOverview'\r\n\r\nclass StockInfo extends Component {\r\n  render() {\r\n    return (\r\n      <PageContext>\r\n        <Page\r\n          pageName={<StockTitle/>}\r\n          user={'Ruixin'}\r\n          menu={<Menu/>}\r\n        >\r\n          <StockOverview/>\r\n        </Page>\r\n      </PageContext>\r\n    )\r\n  }\r\n}\r\n\r\nexport default StockInfo\r\n","import React, { Component } from 'react'\r\nimport { getContext } from 'recompose'\r\nimport PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\nimport * as encodeurl from 'encodeurl'\r\nimport * as classnames from 'classnames'\r\nimport HorizontalScroll from 'react-scroll-horizontal'\r\n\r\nclass WorldIndices extends Component {\r\n  componentDidMount() {\r\n    this.props.actions.fetchWorldIndices()\r\n  }\r\n\r\n  render() {\r\n    const {store: {quotes: {worldIndices}}} = this.props\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"tile sm-12\">\r\n          <div className=\"header\">\r\n            <div className=\"left\">\r\n              <div className=\"title\">World Indices</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"content\">\r\n            <HorizontalScroll\r\n              reverseScroll={true}\r\n              style={{height: '150px'}}\r\n            >\r\n              {\r\n                worldIndices.map(i => (\r\n                  <div className=\"card\" style={{width: '300px'}} key={i.market} onClick={() => this.props.history.push(encodeurl(`/search/result?q=${i.market}`))}>\r\n                    <div className=\"header\">\r\n                      <div className=\"left\">\r\n                        <div className=\"title\">{i.market}</div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"content\">\r\n                      <div className={classnames(\"kpi\", {\r\n                        \"color-green\": i.change >= 0,\r\n                        'color-red': i.change < 0\r\n                      })}>\r\n                        <div className=\"item\">\r\n                          <span className=\"text-xl\">{i.price}</span>\r\n                          <span className=\"text-lg color-gray\">USD</span>\r\n                        </div>\r\n                        <div className=\"item\">\r\n                          <div className=\"text-lg\">\r\n                                <span className={classnames(\"item\")}>\r\n                                  <i className={classnames(\"icon\", {\r\n                                    \"icon-arrow-up\": i.change >= 0,\r\n                                    'icon-arrow-down': i.change < 0\r\n                                  })}/>{i.changePercent}\r\n                                </span>\r\n                          </div>\r\n                          <div className=\"text-lg\">\r\n                                <span className={classnames(\"item\")}>\r\n                                  <i className={classnames(\"icon\", {\r\n                                    \"icon-plus\": i.change >= 0,\r\n                                    'icon-minus': i.change < 0\r\n                                  })}/>{i.change}\r\n                                </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              }\r\n            </HorizontalScroll>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default getContext({\r\n  store: PropTypes.object,\r\n  actions: PropTypes.object,\r\n})(withRouter(WorldIndices))\r\n","import React, { Component } from 'react'\r\nimport { Bar, BarChart, ResponsiveContainer, Tooltip, XAxis, YAxis, } from 'recharts'\r\n\r\nconst CustomTooltip = ({ active, payload }) => {\r\n  if (active) {\r\n    return (\r\n      <div className=\"custom-tooltip\" style={{background:'transparent'}}>\r\n        <p className=\"label color-text\" >{payload[0].x}</p>\r\n        <p className=\"intro color-text\">{payload[0].y+'%'}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nclass PNBarChart extends Component {\r\n  render() {\r\n    const { data, type, width, ratio } = this.props;\r\n\r\n    return (\r\n      <ResponsiveContainer height={'100%'} width={'100%'}>\r\n        <BarChart\r\n          layout = 'vertical'\r\n          data={data.map(d=>{\r\n            return d.y>=0? {...d, p:d.y}:{...d, n:d.y}\r\n          })}\r\n          margin={{\r\n            top: 5, right: 0, left: 50, bottom: 5,\r\n          }}\r\n        >\r\n          <XAxis  stroke={'#f2f2f2'}  tickFormatter={v=>v+'%'} type={'number'} axisLine={false}/>\r\n          <YAxis dataKey=\"x\" type={'category'} stroke={'#f2f2f2'} axisLine={false}/>\r\n          <Bar dataKey=\"p\" fill=\"#288964\"/>\r\n          <Bar dataKey=\"n\" fill=\"#dc2d37\" />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default PNBarChart\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { getContext } from 'recompose'\r\nimport BarChart from './BarChart'\r\nimport * as encodeurl from 'encodeurl'\r\nimport * as classnames from 'classnames'\r\n\r\nclass SectorPerformance extends Component {\r\n  componentDidMount() {\r\n    this.props.actions.fetchRealtimeSector()\r\n  }\r\n\r\n  render() {\r\n    const {store:{quotes:{realtimeSector}}} = this.props\r\n    return (\r\n      <div className=\"row\" style={{height: '600px'}}>\r\n        <div className=\"tile sm-4\">\r\n          <div className=\"header\">\r\n            <div className=\"left\">\r\n              <div className=\"title\">Sector performance</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"content\">\r\n            <BarChart\r\n              data={Object.keys(realtimeSector).map(k => ({x: k, y: realtimeSector[k]}))}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"tile sm-8\" style={{flexDirection:'row', flexWrap:'wrap'}}>\r\n          {\r\n            Object.keys(realtimeSector).map(k=>(\r\n              <div className=\"card\" style={{width: '30%'}} key={k} onClick={()=>this.props.history.push(encodeurl(`/search/result?q=${k}`))}>\r\n                <div className=\"content\">\r\n                  <div className=\"kpi\">\r\n                    <div className=\"color-gray\">{k}</div>\r\n                    <div className={classnames(\"item text-xl\",{\"color-red\":realtimeSector[k]<0,'color-green':realtimeSector[k]>=0})}>\r\n                      <span className=\"\"><i className={classnames(\"icon \",{\"icon-arrow-down\":realtimeSector[k]<0,'icon-arrow-up':realtimeSector[k]>=0})}/></span>\r\n                      <span className=\"\">{realtimeSector[k]}</span>\r\n                      <span className=\"\">%</span>\r\n                      <span>&nbsp;</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          }\r\n\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default getContext({\r\n  store: PropTypes.object,\r\n  actions: PropTypes.object,\r\n})(withRouter(SectorPerformance))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Page from '../../components/Page'\r\nimport Menu from '../../Menu'\r\n\r\nimport 'react-card-scroll/lib/assets/styles.css'\r\nimport PageContext from '../../container/PageContext'\r\nimport WorldIndices from '../../components/WorldIndices'\r\nimport SectorPerformance from '../../components/SectorPerformance'\r\n\r\nclass Quotes extends Component {\r\n\r\n  render() {\r\n/*    return (\r\n      <Page\r\n        pageName={'Quotes'}\r\n        user={'Ruixin'}\r\n        menu={<Menu/>}\r\n        theme={this.props.theme}\r\n        changeTheme={this.props.actions.changeTheme}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"tile sm-12\">\r\n            <div className=\"header\">\r\n              <div className=\"left\">\r\n                <div className=\"title\">World Indices</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"content\">\r\n              <HorizontalScroll\r\n                reverseScroll={true}\r\n                style={{height: '150px'}}\r\n              >\r\n                {\r\n                  this.props.worldIndices.map(i => (\r\n                    <div className=\"card\" style={{width: '300px'}} key={i.market}  onClick={()=>this.props.history.push(encodeurl(`/?q=${i.market}`))}>\r\n                      <div className=\"header\">\r\n                        <div className=\"left\">\r\n                          <div className=\"title\">{i.market}</div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"content\">\r\n                        <div className={classnames(\"kpi\", {\r\n                          \"color-green\": i.change >= 0,\r\n                          'color-red': i.change < 0\r\n                        })}>\r\n                          <div className=\"item\">\r\n                            <span className=\"text-xl\">{i.price}</span>\r\n                            <span className=\"text-lg color-gray\">USD</span>\r\n                          </div>\r\n                          <div className=\"item\">\r\n                            <div className=\"text-lg\">\r\n                                <span className={classnames(\"item\")}>\r\n                                  <i className={classnames(\"icon\", {\r\n                                    \"icon-arrow-up\": i.change >= 0,\r\n                                    'icon-arrow-down': i.change < 0\r\n                                  })}/>{i.changePercent}\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"text-lg\">\r\n                                <span className={classnames(\"item\")}>\r\n                                  <i className={classnames(\"icon\", {\r\n                                    \"icon-plus\": i.change >= 0,\r\n                                    'icon-minus': i.change < 0\r\n                                  })}/>{i.change}\r\n                                </span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                }\r\n              </HorizontalScroll>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\" style={{height: '600px'}}>\r\n          <div className=\"tile sm-4\">\r\n            <div className=\"header\">\r\n              <div className=\"left\">\r\n                <div className=\"title\">Sector performance</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"content\">\r\n              <BarChart\r\n                data={Object.keys(this.props.realtimeSector).map(k => ({x: k, y: this.props.realtimeSector[k]}))}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"tile sm-8\" style={{flexDirection:'row', flexWrap:'wrap'}}>\r\n            {\r\n              Object.keys(this.props.realtimeSector).map(k=>(\r\n                <div className=\"card\" style={{width: '30%'}} key={k} onClick={()=>this.props.history.push(encodeurl(`/?q=${k}`))}>\r\n                  <div className=\"content\">\r\n                    <div className=\"kpi\">\r\n                      <div className=\"color-gray\">{k}</div>\r\n                      <div className={classnames(\"item text-xl\",{\"color-red\":this.props.realtimeSector[k]<0,'color-green':this.props.realtimeSector[k]>=0})}>\r\n                        <span className=\"\"><i className={classnames(\"icon \",{\"icon-arrow-down\":this.props.realtimeSector[k]<0,'icon-arrow-up':this.props.realtimeSector[k]>=0})}/></span>\r\n                        <span className=\"\">{this.props.realtimeSector[k]}</span>\r\n                        <span className=\"\">%</span>\r\n                        <span>&nbsp;</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            }\r\n\r\n          </div>\r\n        </div>\r\n      </Page>\r\n    )*/\r\n    return (\r\n      <PageContext>\r\n        <Page\r\n          pageName={<span className=\"title-name\">Market Quotes</span>}\r\n          user={'Ruixin'}\r\n          menu={<Menu/>}\r\n        >\r\n          <WorldIndices/>\r\n          <SectorPerformance/>\r\n        </Page>\r\n      </PageContext>    )\r\n  }\r\n}\r\n\r\n\r\nexport default Quotes\r\n","import React, { Component } from 'react'\r\nimport { Route, Switch } from \"react-router-dom\"\r\nimport StockInfo from './StockInfo'\r\nimport Quotes from './Quotes'\r\n\r\nclass QuotesPage extends Component {\r\n  render() {\r\n    const {match} = this.props\r\n    return (\r\n      <Switch>\r\n        <Route exact path={`${match.path}/`} component={Quotes}/>\r\n        <Route path={`${match.path}/stock/:symbol`} component={StockInfo}/>\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n\r\nexport default QuotesPage\r\n","import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { getContext } from 'recompose'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { format } from 'd3-format'\r\nimport * as classnames from 'classnames'\r\nimport Page from './Page'\r\n\r\nclass PortfolioTable extends PureComponent {\r\n  componentDidMount() {\r\n    this.handle = setInterval(() => this.props.actions.fetchPortfolio(), 5000)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.handle && clearInterval(this.handle)\r\n  }\r\n\r\n  render() {\r\n    const {store: {portfolio: {stocks}}} = this.props\r\n    return (\r\n      <div className=\"row\" style={{height: 400}}>\r\n        <div className=\"tile sm-12\">\r\n          <div className=\"content\">\r\n            <table className={'table compact dashed striped selectable sortable'}>\r\n              <thead>\r\n              <tr>\r\n                <th>\r\n                  <input id=\"table-0\" type=\"checkbox\"/>\r\n                  <label htmlFor=\"table-0\" className=\"checkbox select-row\"/>\r\n                </th>\r\n                <th className=\"is-sortable\">Company</th>\r\n                <th className=\"is-sortable\">Total market value</th>\r\n                <th className=\"is-sortable\">Floating P/L</th>\r\n                <th className=\"is-sortable\">Change</th>\r\n                <th className=\"is-sortable\">Positions</th>\r\n                <th className=\"is-sortable\">Cost</th>\r\n                <th className=\"is-sortable\">Current price</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              {stocks.map(s => (\r\n                <tr key={s.symbol}>\r\n                  <td>\r\n                    <input id=\"table-1\" type=\"checkbox\"/>\r\n                    <label htmlFor=\"table-1\" className=\"checkbox select-row\"/>\r\n                  </td>\r\n                  <td>{s.company}</td>\r\n                  <td>{format(\"$,.4s\")(s.totalMarketValue).replace(/G/, \"B\")}</td>\r\n                  <td>{format(\",.4s\")(s.floatingProfitLoss).replace(/G/, \"B\")}</td>\r\n                  <td className={classnames({'color-green': s.change >= 0, 'color-red': s.change < 0})}>\r\n                    {format(\",.2%\")(s.change)} <i className={classnames(\"icon\", {\r\n                    'icon-arrow-up': s.change >= 0,\r\n                    'icon-arrow-down': s.change < 0\r\n                  })}/>\r\n                  </td>\r\n                  <td>{format(\",.2s\")(s.amount).replace(/G/, \"B\")}</td>\r\n                  <td>{format(\"$,.2f\")(s.costPrice)}</td>\r\n                  <td>{format(\"$,.2f\")(s.currentPrice)}</td>\r\n                </tr>\r\n              ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nPortfolioTable.propTypes = {}\r\n\r\nexport default getContext({\r\n  store: PropTypes.object,\r\n  actions: PropTypes.object,\r\n})(withRouter(PortfolioTable))\r\n","import React, { Component } from 'react'\r\nimport { getContext } from 'recompose'\r\nimport PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { format } from 'd3-format'\r\nimport * as classnames from 'classnames'\r\n\r\nclass PortfolioKpi extends Component {\r\n  render() {\r\n    const {store: {portfolio: {stocks}}} = this.props\r\n    let totalMV = stocks.reduce((total, stock) => total + stock.totalMarketValue, .0)\r\n    let pl = stocks.reduce((total, stock) => total + stock.floatingProfitLoss, .0)\r\n    return (\r\n      <div className={'row'} style={{height: 150}}>\r\n        <div className=\"tile sm-3\">\r\n          <div className=\"header\">\r\n            <div className=\"left\">\r\n              <div className=\"title\">Total market value</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"content\">\r\n            <div className=\"kpi\">\r\n              <div className=\"item text-xl\">{format('$,.4s')(totalMV)}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"tile sm-3\">\r\n          <div className=\"header\">\r\n            <div className=\"left\">\r\n              <div className=\"title\">Floating P/L</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"content\">\r\n            <div className={classnames('kpi')}>\r\n              <div className={classnames(\"item text-xl\", {'color-green': pl >= 0, 'color-red': pl < 0})}>\r\n                <span><i className={classnames(\"icon\", {\r\n                  'icon-arrow-up': pl >= 0,\r\n                  'icon-arrow-down': pl < 0\r\n                })}/></span>\r\n                <span>{format('.2%')(pl / totalMV)}</span>\r\n                <span>&nbsp;</span>\r\n                </div>\r\n              <div className=\"item text-xl\"><span>{format('$,.4s')(pl)}</span></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"tile sm-3\">\r\n          <div className=\"header\">\r\n            <div className=\"left\">\r\n              <div className=\"title\">Balance</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"content\">\r\n            <div className=\"kpi\">\r\n              <div className=\"item text-xl\">{format('$,.4s')(125488467)}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"tile sm-3\">\r\n          <div className=\"header\">\r\n            <div className=\"left\">\r\n              <div className=\"title\">Total</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"content\">\r\n            <div className=\"kpi\">\r\n              <div className=\"item text-xl\">{format('$,.4s')(125488467 + totalMV)}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default getContext({\r\n  store: PropTypes.object,\r\n  actions: PropTypes.object,\r\n})(withRouter(PortfolioKpi))\r\n","import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { getContext } from 'recompose'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Cell, Pie, PieChart, ResponsiveContainer, Sector, Tooltip } from 'recharts'\r\n\r\n\r\nclass PortfolioComposition extends PureComponent {\r\n\r\n  render() {\r\n    const {store: {portfolio: {stocks}}} = this.props\r\n    let industryCount = {}\r\n    stocks.forEach(s => {\r\n      industryCount[s.industry] = (industryCount[s.industry] || 0) + 1\r\n    })\r\n    let data = []\r\n    let other = 0\r\n    Object.keys(industryCount).map(k => ({name: k, value: industryCount[k]}))\r\n      .forEach(v => {\r\n        if (v.value > 1) {\r\n          data.push(v)\r\n        } else {\r\n          other++\r\n        }\r\n      })\r\n    data.push({name: 'Other', value: other})\r\n    const COLORS = ['#e66e19', '#dcaf00', '#dc2d37', '#0082f0', '#288964']\r\n\r\n\r\n    return (\r\n      <div className={'row'} style={{height: '260'}}>\r\n        <div className=\"tile sm-4\">\r\n          <div className=\"header\">\r\n            <div className=\"left\">\r\n              <div className=\"title\">Composition</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"content\">\r\n            <ResponsiveContainer width={'100%'} height={260}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={data}\r\n                  cx={240}\r\n                  cy={130}\r\n                  innerRadius={100}\r\n                  outerRadius={120}\r\n                  fill=\"#f2f2f2\"\r\n                  paddingAngle={5}\r\n                  dataKey=\"value\"\r\n                >\r\n                  {\r\n                    data.map((entry, index) => <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]}/>)\r\n                  }\r\n                </Pie>\r\n                <Tooltip/>\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </div>\r\n        <div className=\"tile sm-8\">\r\n          <div className=\"header\">\r\n            <div className=\"left\">\r\n              <div className=\"title\">Industry</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"content\">\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nPortfolioComposition.propTypes = {}\r\n\r\nexport default getContext({\r\n  store: PropTypes.object,\r\n  actions: PropTypes.object,\r\n})(withRouter(PortfolioComposition))\r\n","import React, { Component } from 'react'\r\nimport PageContext from '../../container/PageContext'\r\nimport Page from '../../components/Page'\r\nimport Menu from '../../Menu'\r\nimport PortfolioTable from '../../components/PortfolioTable'\r\nimport PortfolioKPI from '../../components/PortfolioKPI'\r\nimport PortfolioComposition from '../../components/PortfolioComposition'\r\n\r\nclass Portfolio extends Component {\r\n  render() {\r\n    return (\r\n      <PageContext>\r\n        <Page pageName={<span className=\"title-name\">My portfolio</span>}\r\n              user={'Ruixin'}\r\n              menu={<Menu/>}>\r\n          <PortfolioKPI/>\r\n          <PortfolioComposition/>\r\n          <PortfolioTable/>\r\n        </Page>\r\n\r\n      </PageContext>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Portfolio\r\n","import React, { Component } from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport Portfolio from './Portfolio'\r\n\r\nclass PortfolioPage extends Component {\r\n  render() {\r\n    const {match} = this.props\r\n    return (\r\n      <Switch>\r\n        <Route exact path={`${match.path}/`} component={Portfolio}/>\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PortfolioPage\r\n","import React, { Component } from 'react'\nimport { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\"\nimport SearchPage from './pages/SearchPage'\n\nimport './style/common.css'\nimport QuotesPage from './pages/QuotesPage'\nimport PortfolioPage from './pages/PortfolioPage'\n\nclass App extends Component {\n\n\n  render() {\n    return <Router>\n      <Switch>\n        <Route exact={true} path=\"/\" render={()=><Redirect to={'/search'}/>}/>\n        <Route path=\"/search\" component={SearchPage}/>\n        <Route path=\"/quotes\" component={QuotesPage}/>\n        <Route path=\"/portfolio\" component={PortfolioPage}/>\n      </Switch>\n    </Router>\n  }\n}\n\nexport default App\n","import { combineReducers } from 'redux'\r\nimport app from './app'\r\nimport search from './search'\r\nimport quotes from './quotes'\r\nimport portfolio from './portfolio'\r\n\r\nexport default combineReducers({\r\n  app,\r\n  quotes,\r\n  portfolio,\r\n  search\r\n})\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { applyMiddleware, createStore, compose } from 'redux'\nimport { initEnhancer } from './reduxUtils'\nimport thunk from 'redux-thunk'\nimport { Provider } from 'react-redux'\nimport rootReducer from './reducers'\n\nconst store = createStore(\n  rootReducer,\n  {},\n  compose(\n    applyMiddleware(thunk),\n    initEnhancer(false),\n  ),\n)\n\n\nReactDOM.render(<Provider store={store}>\n  <App />\n</Provider>, document.getElementById('root'));\n\nif (module.hot) {\n  module.hot.accept('./App', () => {\n    const NextApp = require('./App').default\n    ReactDOM.render(\n      <NextApp />,\n      document.getElementById('root')\n    )\n  })\n}\n\n","import { compose } from 'redux'\r\nimport persistState from 'redux-localstorage'\r\n\r\nexport function initEnhancer(persist = true, persistConfig = {}) {\r\n  const {paths, config} = persistConfig\r\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\n\r\n  return persist\r\n    ? composeEnhancers(persistState(paths, config))\r\n    : composeEnhancers()\r\n}\r\n"],"sourceRoot":""}